

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Install &mdash; MOE 0.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
  
    <link rel="top" title="MOE 0.1.0 documentation" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> MOE</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="moe.html">moe package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe.resources">moe.resources module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe">Module contents</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cpp_tree.html">C++ Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization_test.html">gpp_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain_test.html">gpp_domain_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_exception.html">gpp_exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry.html">gpp_geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization.html">gpp_heuristic_expected_improvement_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra-inl.html">gpp_linear_algebra-inl</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils.html">gpp_test_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_logging.html">gpp_logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance.html">gpp_covariance</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_test.html">gpp_python_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain.html">gpp_domain</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_common.html">gpp_python_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyperparameter_optimization_demo.html">gpp_hyperparameter_optimization_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils_test.html">gpp_test_utils_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math_test.html">gpp_math_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_expected_improvement.html">gpp_python_expected_improvement</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_model_selection.html">gpp_python_model_selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math.html">gpp_math</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random_test.html">gpp_random_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_expected_improvement_demo.html">gpp_expected_improvement_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random.html">gpp_random</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry_test.html">gpp_geometry_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra.html">gpp_linear_algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization_test.html">gpp_heuristic_expected_improvement_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra_test.html">gpp_linear_algebra_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_core.html">gpp_core</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization.html">gpp_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance_test.html">gpp_covariance_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_gaussian_process.html">gpp_python_gaussian_process</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_mock_optimization_objective_functions.html">gpp_mock_optimization_objective_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python.html">gpp_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection_and_hyperparameter_optimization.html">gpp_model_selection_and_hyperparameter_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyper_and_EI_demo.html">gpp_hyper_and_EI_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization_parameters.html">gpp_optimization_parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_common.html">gpp_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection_and_hyperparameter_optimization_test.html">gpp_model_selection_and_hyperparameter_optimization_test</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">MOE</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Install</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/install.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="install">
<h1>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h1>
<div class="section" id="install-in-docker">
<h2>Install in docker:<a class="headerlink" href="#install-in-docker" title="Permalink to this headline">¶</a></h2>
<p>This is the recommended way to run the MOE REST server. All dependencies and building is done automatically and in an isolated container.</p>
<p>Docker (<a class="reference external" href="http://docs.docker.io/">http://docs.docker.io/</a>) is a container based virtualization framework. Unlike traditional virtualization Docker is fast, lightweight and easy to use. Docker allows you to create containers holding all the dependencies for an application. Each container is kept isolated from any other, and nothing gets shared.</p>
<div class="highlight-python"><div class="highlight"><pre>$ git clone https://github.com/sc932/MOE.git
$ cd MOE
$ docker build -t moe_container .
$ docker run -p 6543:6543 moe_container
</pre></div>
</div>
<p>The webserver and REST interface is now running on port 6543 from within the container.</p>
</div>
<div class="section" id="install-from-source">
<h2>Install from source:<a class="headerlink" href="#install-from-source" title="Permalink to this headline">¶</a></h2>
<p>Requires:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">python</span> <span class="pre">2.6.7+</span></tt> - <a class="reference external" href="http://python.org/download/">http://python.org/download/</a></li>
<li><tt class="docutils literal"><span class="pre">gcc</span> <span class="pre">4.7.3+</span></tt> - <a class="reference external" href="http://gcc.gnu.org/install/">http://gcc.gnu.org/install/</a></li>
<li><tt class="docutils literal"><span class="pre">cmake</span> <span class="pre">2.8.9+</span></tt> - <a class="reference external" href="http://www.cmake.org/cmake/help/install.html">http://www.cmake.org/cmake/help/install.html</a></li>
<li><tt class="docutils literal"><span class="pre">boost</span> <span class="pre">1.51+</span></tt> - <a class="reference external" href="http://www.boost.org/users/download/">http://www.boost.org/users/download/</a></li>
<li><tt class="docutils literal"><span class="pre">pip</span> <span class="pre">1.2.1+</span></tt> - <a class="reference external" href="http://pip.readthedocs.org/en/latest/installing.html">http://pip.readthedocs.org/en/latest/installing.html</a></li>
<li><tt class="docutils literal"><span class="pre">doxygen</span> <span class="pre">1.8.5+</span></tt> - <a class="reference external" href="http://www.stack.nl/~dimitri/doxygen/index.html">http://www.stack.nl/~dimitri/doxygen/index.html</a></li>
<li>We recommend using a virtualenv <a class="reference external" href="http://www.jontourage.com/2011/02/09/virtualenv-pip-basics/">http://www.jontourage.com/2011/02/09/virtualenv-pip-basics/</a></li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>$ git clone https://github.com/sc932/MOE.git
$ cd MOE
$ pip install -e .
$ python setup.py install
</pre></div>
</div>
</div>
<div class="section" id="osx-tips-10-8-for-10-9-see-separate-instructions-below">
<h2>OSX Tips (&lt;=10.8. For 10.9, see separate instructions below):<a class="headerlink" href="#osx-tips-10-8-for-10-9-see-separate-instructions-below" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="0">
<li>Are you sure you wouldn&#8217;t rather be running linux?</li>
<li>Download MacPorts - <a class="reference external" href="http://www.macports.org/install.php">http://www.macports.org/install.php</a> (If you change the install directory from <tt class="docutils literal"><span class="pre">/opt/local</span></tt>, don&#8217;t forget to update the cmake invocation.)</li>
<li>MacPorts can resolve most dependencies. Make sure you set your <tt class="docutils literal"><span class="pre">PATH</span></tt> env var.</li>
<li>Download xQuartz (needed for X11, needed for matplotlib) - <a class="reference external" href="http://xquartz.macosforge.org/landing/">http://xquartz.macosforge.org/landing/</a> (Also available through MacPorts, see item 4.)</li>
<li>Getting gcc, boost, matplotlib, and xQuartz (<tt class="docutils literal"><span class="pre">xorg-server</span></tt>) reqs (before installing MOE):</li>
<li>Make sure you create your virtualenv with the correct python <tt class="docutils literal"><span class="pre">--python=/opt/local/bin/python</span></tt> if you are using MacPorts</li>
<li>If you are using another package manager (like homebrew) you may need to modify <tt class="docutils literal"><span class="pre">opt/local</span></tt> below to point to your <tt class="docutils literal"><span class="pre">Cellar</span></tt> directory.</li>
<li>For the following commands, order matters, especially when selecting the proper gcc compiler.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>$ sudo port selfupdate
$ sudo port install gcc47
$ sudo port select --set gcc mp-gcc47
$ sudo port install boost
$ sudo port install xorg-server
$ sudo port install py-matplotlib
$ sudo port install doxygen
$ export MOE_CMAKE_OPTS=-DCMAKE_FIND_ROOT_PATH=/opt/local &amp;&amp; export MOE_CC_PATH=/opt/local/bin/gcc &amp;&amp; export MOE_CXX_PATH=/opt/local/bin/g++
</pre></div>
</div>
<div class="section" id="additional-tips-for-10-9">
<h3>Additional Tips for 10.9:<a class="headerlink" href="#additional-tips-for-10-9" title="Permalink to this headline">¶</a></h3>
<p>To ensure consistency, be sure to use full paths throughout the installation.</p>
<ol class="arabic simple">
<li>Currently, Boost should not be installed with MacPorts. You should build it from source (see section &#8220;Building Boost&#8221;).</li>
<li>Boost, MOE, and the virtualenv must be built with the same python. We recommend using MacPorts Python: <tt class="docutils literal"><span class="pre">/opt/local/bin/python</span></tt>.</li>
</ol>
<p>Under OS X 10.9, Apple switched their canonical C++ library from <tt class="docutils literal"><span class="pre">libstdc++</span></tt> (GNU) to <tt class="docutils literal"><span class="pre">libc++</span></tt> (LLVM); they are not ABI-compatible. To remain consistent, package managers are linking against <tt class="docutils literal"><span class="pre">libc++</span></tt>. Since MOE is built with gcc, we need <tt class="docutils literal"><span class="pre">libstdc++</span></tt>; thus dependencies must also be built with that C++ library. Currently, package managers do not have enough flexibility to operate several C++ libraries at once, and we do not expect this to change. Ignoring this condition leads to binary incompatibilities; e.g., see:
<a class="reference external" href="http://stackoverflow.com/questions/20134223/building-a-boost-python-application-on-macos-10-9-mavericks/">http://stackoverflow.com/questions/20134223/building-a-boost-python-application-on-macos-10-9-mavericks/</a></p>
</div>
<div class="section" id="building-boost">
<h3>Building Boost:<a class="headerlink" href="#building-boost" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Download the Boost source (<a class="reference external" href="http://sourceforge.net/projects/boost/files/boost/1.55.0/">http://sourceforge.net/projects/boost/files/boost/1.55.0/</a> has been verfied to work).</li>
<li>From within the main directory, run (after checking additional options below):</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>$ sudo ./bootstrap.sh --with-python=PYTHON
$ sudo ./b2 install
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Make sure <tt class="docutils literal"><span class="pre">which</span> <span class="pre">gcc</span></tt> is <tt class="docutils literal"><span class="pre">/opt/local/bin/gcc</span></tt> (macport installed) or whatever C++11 compliant gcc you want (similarly, <tt class="docutils literal"><span class="pre">which</span> <span class="pre">g++</span></tt> should be <tt class="docutils literal"><span class="pre">/opt/local/bin/g++</span></tt>), and make sure Python is <tt class="docutils literal"><span class="pre">/opt/local/bin/python</span></tt> if using MacPorts or whichever Python you want to use.</li>
<li>When building MOE, add to <tt class="docutils literal"><span class="pre">MOE_CMAKE_OPTS</span></tt> the <tt class="docutils literal"><span class="pre">BOOST_ROOT</span></tt> variable containing the location of the Boost that you have installed when running CMake and verify that CMake finds it (e.g., check a link.txt file in a <tt class="docutils literal"><span class="pre">moe/build/CMakeFiles/*.dir/</span></tt> dir and verify the location of <tt class="docutils literal"><span class="pre">libboost_python-mt</span></tt> or <tt class="docutils literal"><span class="pre">libboost_python</span></tt>, whichever is appropriate)</li>
<li>You might need to prepend <tt class="docutils literal"><span class="pre">BOOST_ROOT</span></tt> to <tt class="docutils literal"><span class="pre">CMAKE_FIND_ROOT_PATH=/opt/local</span></tt> to make this work if you have separate Boost installation(s). <tt class="docutils literal"><span class="pre">BOOST_ROOT</span></tt> is the <tt class="docutils literal"><span class="pre">path/to/your/boost_1_55_0</span></tt>.</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>$ export MOE_CMAKE_OPTS=&#39;-D BOOST_ROOT=/path/to/boost -D Boost_NO_SYSTEM_PATHS=ON -D CMAKE_FIND_ROOT_PATH=/path/to/boost:/opt/local&#39;
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li>If you elected to use a different Python than the one from MacPorts, make sure CMake is finding it (e.g., set the <tt class="docutils literal"><span class="pre">-DPYTHON_LIBRARIES=path/to/python.dylib</span></tt> env variable when running CMake). Check <tt class="docutils literal"><span class="pre">link.txt</span></tt> (see item above) to see if Python was found correctly.</li>
</ol>
<p>Additional options for <tt class="docutils literal"><span class="pre">./boostrap.sh</span></tt>:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">--with-libraries=python,math,random,program_options,exception,system</span></tt> compiles only the libraries we need.</li>
<li><tt class="docutils literal"><span class="pre">--prefix=path/to/install/dir</span></tt> builds Boost and pulls the libraries in the specified path. Default is <tt class="docutils literal"><span class="pre">/usr/local</span></tt> (recommended, especially if you already have system Boost installations; remember to set <tt class="docutils literal"><span class="pre">BOOST_ROOT</span></tt>).</li>
</ol>
<p>Additional options for <tt class="docutils literal"><span class="pre">./b2</span></tt>:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">--build-dir=/path/to/build/dir</span></tt> builds the Boost files in a separate location instead of mixed into the source tree (recommended).</li>
<li><tt class="docutils literal"><span class="pre">-j4</span></tt> uses 4 threads to compile (faster).</li>
</ol>
</div>
</div>
<div class="section" id="linux-tips">
<h2>Linux Tips:<a class="headerlink" href="#linux-tips" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>You can apt-get everything you need. Yay for real package managers!</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>$ apt-get update
$ apt-get install python python-dev gcc cmake libboost-all-dev python-pip doxygen libblas-dev liblapack-dev gfortran git
</pre></div>
</div>
</div>
<div class="section" id="cmake-tips">
<h2>CMake Tips:<a class="headerlink" href="#cmake-tips" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Do you have dependencies installed in non-standard places? e.g., did you build your own boost? Set the env var: <tt class="docutils literal"><span class="pre">export</span> <span class="pre">MOE_CMAKE_OPTS=-DCMAKE_FIND_ROOT_PATH=/path/to/stuff</span> <span class="pre">...</span></tt> (OS X users with MacPorts should set <tt class="docutils literal"><span class="pre">/opt/local</span></tt>) This can be used to set any number of cmake arguments.</li>
<li>Are you using the right compiler? e.g., for <tt class="docutils literal"><span class="pre">gcc</span></tt>, run <tt class="docutils literal"><span class="pre">export</span> <span class="pre">MOE_CC_PATH=gcc</span> <span class="pre">&amp;&amp;</span> <span class="pre">export</span> <span class="pre">MOE_CXX_PATH=g++</span></tt> (OS X users need to explicitly set this.)</li>
</ol>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Yelp and Cornell Collaboration.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>