

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gpp_domain &mdash; MOE 0.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
  
    <link rel="top" title="MOE 0.1.0 documentation" href="index.html"/>
        <link rel="up" title="C++ Files" href="cpp_tree.html"/>
        <link rel="next" title="gpp_python_common" href="gpp_python_common.html"/>
        <link rel="prev" title="gpp_python_test" href="gpp_python_test.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> MOE</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="why_moe.html">Why Do We Need MOE?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="why_moe.html#other-methods">Other Methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-in-docker">Install in docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-from-source">Install from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#osx-tips">OSX Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#building-boost">Building Boost</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#linux-tips">Linux Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#cmake-tips">CMake Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="moe_math.html">How does MOE work?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#build-a-gaussian-process-gp-with-the-historical-data">Build a Gaussian Process (GP) with the historical data</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#optimize-the-hyperparameters-of-the-gaussian-process">Optimize the hyperparameters of the Gaussian Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#find-the-point-s-of-highest-expected-improvement-ei">Find the point(s) of highest Expected Improvement (EI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#return-the-point-s-to-sample-then-repeat">Return the point(s) to sample, then repeat</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demo_tutorial.html">Demo Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="demo_tutorial.html#the-interactive-demo">The Interactive Demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pretty_endpoints.html">Pretty Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="objective_functions.html">Objective Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#what-is-an-objective-function">What is an objective function?</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#properties-of-an-objective-function">Properties of an objective function</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#id1"><span class="math">\(\Phi\)</span> Objective Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#example-of-objective-functions">Example of Objective Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#minimizing-an-arbitrary-function">Minimizing an arbitrary function</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#gaussian-process-regression-given-historical-data">Gaussian Process regression given historical data</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#hyperparameter-optimization-of-a-gaussian-process">Hyperparameter optimization of a Gaussian Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#all-above-examples-combined">All above examples combined</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#setting-thresholds-for-advertising-units">Setting thresholds for advertising units</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#making-a-pull-request">Making a pull request</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#style">Style</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#versioning">Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#releasing-for-maintainers">Releasing (For Maintainers)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-license-is-moe-released-under">What license is MOE released under?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#when-should-i-use-moe">When should I use MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-is-the-time-complexity-of-moe">What is the time complexity of MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-do-i-cite-moe">How do I cite MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-does-moe-take-so-long-to-return-the-next-points-to-sample-for-some-inputs">Why does MOE take so long to return the next points to sample for some inputs?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-do-i-bootstrap-moe-what-initial-data-does-it-need">How do I bootstrap MOE? What initial data does it need?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-many-function-evaluations-do-i-need-before-moe-is-done">How many function evaluations do I need before MOE is &#8220;done&#8221;?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-many-function-evaluations-do-i-perform-before-i-update-the-hyperparameters-of-the-gp">How many function evaluations do I perform before I update the hyperparameters of the GP?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#will-you-accept-my-pull-request">Will you accept my pull request?</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="moe.html">moe package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe.resources">moe.resources module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="moe_examples.html">moe_examples package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples.combined_example">moe_examples.combined_example module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples.hyper_opt_of_gp_from_historical_data">moe_examples.hyper_opt_of_gp_from_historical_data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples.mean_and_var_of_gp_from_historic_data">moe_examples.mean_and_var_of_gp_from_historic_data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples.next_point_via_simple_endpoint">moe_examples.next_point_via_simple_endpoint module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples">Module contents</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="cpp_tree.html">C++ Files</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization_test.html">gpp_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain_test.html">gpp_domain_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra_test.html">gpp_linear_algebra_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry.html">gpp_geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_gaussian_process.html">gpp_python_gaussian_process</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra-inl.html">gpp_linear_algebra-inl</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils.html">gpp_test_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_logging.html">gpp_logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance.html">gpp_covariance</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_test.html">gpp_python_test</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">gpp_domain</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_common.html">gpp_python_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyperparameter_optimization_demo.html">gpp_hyperparameter_optimization_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils_test.html">gpp_test_utils_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math_test.html">gpp_math_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_expected_improvement.html">gpp_python_expected_improvement</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_model_selection.html">gpp_python_model_selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math.html">gpp_math</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random_test.html">gpp_random_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimizer_parameters.html">gpp_optimizer_parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_expected_improvement_demo.html">gpp_expected_improvement_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random.html">gpp_random</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry_test.html">gpp_geometry_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra.html">gpp_linear_algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization_test.html">gpp_heuristic_expected_improvement_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_exception.html">gpp_exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection.html">gpp_model_selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization.html">gpp_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance_test.html">gpp_covariance_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_mock_optimization_objective_functions.html">gpp_mock_optimization_objective_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python.html">gpp_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection_test.html">gpp_model_selection_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyper_and_EI_demo.html">gpp_hyper_and_EI_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization.html">gpp_heuristic_expected_improvement_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_common.html">gpp_common</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">MOE</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="cpp_tree.html">C++ Files</a> &raquo;</li>
      
    <li>gpp_domain</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/gpp_domain.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="gpp-domain">
<h1>gpp_domain<a class="headerlink" href="#gpp-domain" title="Permalink to this headline">¶</a></h1>
<p><strong>Contents:</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference internal" href="#gpp-domain-hpp">gpp_domain.hpp</a></li>
<li><a class="reference internal" href="#gpp-domain-cpp">gpp_domain.cpp</a></li>
</ol>
</div></blockquote>
<div class="section" id="gpp-domain-hpp">
<h2>gpp_domain.hpp<a class="headerlink" href="#gpp-domain-hpp" title="Permalink to this headline">¶</a></h2>
<p></p>
<p><p>This file contains &#8220;DomainType&#8221; classes that specify different kinds of domains (e.g., TensorProduct, Simplex).  These are
currently used to describe domain limits for optimizers (defined in gpp_optimization, used by gpp_math, gpp_model_selection).</p>
<p>Currently, we only support domains with planar (linear) boundaries.</p>
<p>Each domain provides functions to describe the set of boundary planes, check whether a point is inside/outside, generate
random points inside, and limit updates (from optimizers) so that a path stays inside the domain.</p>
<p>See gpp_geometry.hpp for how to specify a plane.</p>
 </p>
<p><p id="project0namespaceoptimal__learning"><em>namespace</em> <strong>optimal_learning</strong></p>
<blockquote>
<div><p></p>
<p></p>
<em>Enums</em><blockquote>
<div><p><span class="target" id="project0namespaceoptimal__learning_1aaab94bf682a813bcaa6bf84904e2aeb1"></span><strong>DomainTypes enum</strong></p>
<blockquote>
<div><p></p>
<p><p>Enumerating domains for convenience. Useful for selecting which tests to run and also
used by the Python interface to communicate domain type to C++.</p>
 </p>
<p><em>Values:</em></p>
<ul class="breatheenumvalues">
<li><tt class="first docutils literal"><span class="pre">kTensorProduct</span></tt><tt class="docutils literal"> <span class="pre">=</span> <span class="pre">=</span> <span class="pre">0</span></tt> - <p><a class="reference internal" href="#project0classoptimal__learning_1_1_tensor_product_domain"><em>TensorProductDomain</em></a>. </p>
</li>
<li><tt class="first docutils literal"><span class="pre">kSimplex</span></tt><tt class="docutils literal"> <span class="pre">=</span> <span class="pre">=</span> <span class="pre">1</span></tt> - <p><a class="reference internal" href="#project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain"><em>SimplexIntersectTensorProductDomain</em></a>. </p>
</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><p id="project0classoptimal__learning_1_1_dummy_domain"><em>class</em> <strong>DummyDomain</strong></p>
<blockquote>
<div><p></p>
<p><p>A dummy domain; commonly paired with the NullOptimizer. Use when domain is irrelevant.</p>
<p>It does not track any member data and claims all points are inside.</p>
 </p>
<em>Public Functions</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_dummy_domain_1a402d256ee7894e85ddfcc7823c1fd8d3"></span><div class="line-block">
<div class="line">bool <strong>CheckPointInside</strong>(double const *restrict  OL_UNUSED)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Always returns true: DummyDomain contains all points.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">point[dim]:</th><td class="field-body">point to check</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>true if point is inside the domain or on its boundary, false otherwise</dd>
</dl>
 </p>
</div></blockquote>
</div></blockquote>
<em>Public Static Attributes</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_dummy_domain_1a18c488648e986cd8ead1fef7b432e8ad"></span>constexpr char const * <strong>kName</strong></p>
<blockquote>
<div><p>string name of this domain for logging </p>
<p></p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</p>
<p><p id="project0classoptimal__learning_1_1_tensor_product_domain"><em>class</em> <strong>TensorProductDomain</strong></p>
<blockquote>
<div><p></p>
<p><p>Domain type for a tensor product domain.</p>
<p>A d-dimensional tensor product domain is <tt class="docutils literal"><span class="pre">D</span> <span class="pre">=</span> <span class="pre">[x_0_{min},</span> <span class="pre">x_0_{max}]</span> <span class="pre">X</span> <span class="pre">[x_1_{min},</span> <span class="pre">x_1_{max}]</span> <span class="pre">X</span> <span class="pre">...</span> <span class="pre">X</span> <span class="pre">[x_d_{min},</span> <span class="pre">x_d_{max}]</span></tt></p>
 </p>
<em>Public Functions</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1a184fca10f7f4317ea27344c926519a8d"></span><div class="line-block">
<div class="line"> <strong>TensorProductDomain</strong>()</div>
</div>
</p>
<blockquote>
<div><p></p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1ae9b0997723d89bed042d9338bbeeb6bc"></span><div class="line-block">
<div class="line"> <strong>TensorProductDomain</strong>(<a class="reference internal" href="gpp_geometry.html#project0structoptimal__learning_1_1_closed_interval"><em>ClosedInterval</em></a>  const *restrict domain, int dim_in)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Constructs a TensorProductDomain.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">domain[dim]:</th><td class="field-body">array of ClosedInterval specifying the boundaries of a dim-dimensional tensor-product domain.</td>
</tr>
<tr class="field-even field"><th class="field-name">dim_in:</th><td class="field-body">number of spatial dimensions</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1aeb91f69de83514c7c4df8a93a4e29fe3"></span><div class="line-block">
<div class="line">int <strong>dim</strong>()</div>
</div>
</p>
<blockquote>
<div><p></p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1ae9fb5627bd5fd6421cc9596d1f46467f"></span><div class="line-block">
<div class="line">void <strong>SetDomain</strong>(<a class="reference internal" href="gpp_geometry.html#project0structoptimal__learning_1_1_closed_interval"><em>ClosedInterval</em></a>  const *restrict domain)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Explicitly set the domain boundaries. Assumes specified domain is non-empty.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">domain[dim]:</th><td class="field-body">array of ClosedInterval specifying the boundaries of a dim-dimensional tensor-product domain.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1af5735ab89504aacd15344d8bde5f129d"></span><div class="line-block">
<div class="line">int <strong>GetMaxNumberOfBoundaryPlanes</strong>()</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Maximum number of planes that define the boundary of this domain.
Used for testing.</p>
<p>This result is exact.</p>
<dl class="docutils">
<dt><strong>Returns</strong>:</dt>
<dd>max number of planes defining the boundary of this domain</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1a3293a05c7ccf894be2bb32c6c8379133"></span><div class="line-block">
<div class="line">void <strong>GetBoundaryPlanes</strong>(<a class="reference internal" href="gpp_geometry.html#project0structoptimal__learning_1_1_plane"><em>Plane</em></a>  *restrict planes)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Fills an input array with all bounding planes of this domain.
See struct Plane in gpp_geometry.hpp for how to specify a plane.
Used for testing.</p>
<p>Let max_num_bound = GetMaxNumberOfBoundaryPlanes()
<strong>Parameters</strong>:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">planes[max_num_bound]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">properly allocated space: max_num_bound Plane objects in dim spatial dimensions</td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl class="docutils">
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">planes[max_num_bound]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">array of planes of this domain</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1a136f4b59d5fe705e7862ebc1c50c2b14"></span><div class="line-block">
<div class="line">bool <strong>CheckPointInside</strong>(double const *restrict point)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Check if a point is inside the domain/on its boundary or outside.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">point[dim]:</th><td class="field-body">point to check</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>true if point is inside the domain or on its boundary, false otherwise</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1a6d15ffaaeb66856713b688519daf12a4"></span><div class="line-block">
<div class="line">bool <strong>GeneratePointInDomain</strong>(<a class="reference internal" href="gpp_random.html#project0structoptimal__learning_1_1_uniform_random_generator"><em>UniformRandomGenerator</em></a>  * uniform_generator, double *restrict random_point)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Generates &#8220;point&#8221; such that CheckPointInside(point) returns true.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">a UniformRandomGenerator object providing the random engine for uniform random numbers</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">random_point[dim]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">properly sized array</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">UniformRandomGenerator object will have its state changed due to random draws</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">random_point[dim]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">point with coordinates inside the domain (left in invalid state if fcn returns false)</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>true if point generation succeeded</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1a81ac402428fd923b14f38f0a6193831e"></span><div class="line-block">
<div class="line">int <strong>GenerateUniformPointsInDomain</strong>(int num_points, <a class="reference internal" href="gpp_random.html#project0structoptimal__learning_1_1_uniform_random_generator"><em>UniformRandomGenerator</em></a>  * uniform_generator, double *restrict random_points)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Generates num_points points in the domain (i.e., such that CheckPointInside(point) returns true).  The points
will be uniformly distributed.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">num_points:</th><td class="field-body">number of random points to generate</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a UniformRandomGenerator object providing the random engine for uniform random numbers</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">random_points[dim][num_points]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">properly sized array</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">UniformRandomGenerator object will have its state changed due to random draws</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">random_points[dim][num_points]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">point with coordinates inside the domain</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>number of points generated (always num_points; ok to not use this result)</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1a1c9140e57d6307685ebb71c86bce5ae0"></span><div class="line-block">
<div class="line">void <strong>LimitUpdate</strong>(double max_relative_change, double const *restrict current_point, double *restrict update_vector)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><dl class="docutils">
<dt>Changes update_vector so that:</dt>
<dd><tt class="docutils literal"><span class="pre">point_new</span> <span class="pre">=</span> <span class="pre">point</span> <span class="pre">+</span> <span class="pre">update_vector</span></tt></dd>
</dl>
<p>has coordinates such that CheckPointInside(point_new) returns true.</p>
<p>update_vector is UNMODIFIED if point_new is already inside the domain.</p>
<p>Note: we modify update_vector (instead of returning point_new) so that further update
limiting/testing may be performed.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">max_relative_change:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">max change allowed per update (as a relative fraction of current distance to boundary)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">current_point[dim]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">starting point</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">update_vector[dim]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">proposed update</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">update_vector[dim]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">modified update so that the final point remains inside the domain</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
</div></blockquote>
<em>Public Static Attributes</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1a3f1a825ded20d21a4115f143ad33fff7"></span>constexpr char const * <strong>kName</strong></p>
<blockquote>
<div><p>string name of this domain for logging </p>
<p></p>
</div></blockquote>
</div></blockquote>
<em>Private Members</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1aebf0b7c7c0dec6bec5aaecfba54e3ed4"></span>int <strong>dim_</strong></p>
<blockquote>
<div><p>the number of spatial dimensions of this domain </p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1a103b536392402ed27914e7182fd51c18"></span>std::vector&lt;  <a class="reference internal" href="gpp_geometry.html#project0structoptimal__learning_1_1_closed_interval"><em>ClosedInterval</em></a>  &gt; <strong>domain_</strong></p>
<blockquote>
<div><p>the list of <a class="reference internal" href="gpp_geometry.html#project0structoptimal__learning_1_1_closed_interval"><em>ClosedInterval</em></a> that define the boundaries of this tensor product domain </p>
<p></p>
</div></blockquote>
</div></blockquote>
<em>Private Static Attributes</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_tensor_product_domain_1ad151aeafe9473a8f7729d19866991acf"></span>constexpr double <strong>kInvalidStepScaleFactor</strong></p>
<blockquote>
<div><p>attempt to scale down the step-size (or distance to wall) by this factor when a domain-exiting (i.e., invalid) step is requested </p>
<p></p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</p>
<p><p id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain"><em>class</em> <strong>SimplexIntersectTensorProductDomain</strong></p>
<blockquote>
<div><p></p>
<p><p>Domain class for the intersection of the unit simplex with an arbitrary tensor product domain.  To that end,
this object has a TensorProductDomain object as a data member and uses its functions when possible.</p>
<p>See TensorProductDomain for what that means.
The unit d-simplex is defined as the set of <tt class="docutils literal"><span class="pre">x_i</span></tt> such that:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">x_i</span> <span class="pre">&gt;=</span> <span class="pre">0</span> <span class="pre">\forall</span> <span class="pre">i</span>&nbsp; <span class="pre">(i</span> <span class="pre">ranging</span> <span class="pre">over</span> <span class="pre">dimension)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">\sum_i</span> <span class="pre">x_i</span> <span class="pre">&lt;=</span> <span class="pre">1</span></tt></li>
</ol>
<p>(Implying that <tt class="docutils literal"><span class="pre">x_i</span> <span class="pre">&lt;=</span> <span class="pre">1</span> <span class="pre">\forall</span> <span class="pre">i</span></tt>)</p>
<p>ASSUMPTION: most of the volume of the tensor product region lies inside the simplex region.</p>
 </p>
<em>Public Functions</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a5c54bdaaf7c14f2813d46ede90034624"></span><div class="line-block">
<div class="line"> <strong>SimplexIntersectTensorProductDomain</strong>()</div>
</div>
</p>
<blockquote>
<div><p></p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a31237c843950d0072d869206b2f5ca35"></span><div class="line-block">
<div class="line"> <strong>SimplexIntersectTensorProductDomain</strong>(<a class="reference internal" href="gpp_geometry.html#project0structoptimal__learning_1_1_closed_interval"><em>ClosedInterval</em></a>  const *restrict domain, int dim_in)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Constructs a SimplexIntersectTensorProductDomain.  The bounds of the tensor product region are specified through
the &#8220;domain&#8221; input, just as with TensorProductDomain.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">domain[dim]:</th><td class="field-body">array of ClosedInterval specifying the boundaries of a dim-dimensional tensor-product domain.</td>
</tr>
<tr class="field-even field"><th class="field-name">dim_in:</th><td class="field-body">number of spatial dimensions</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1acbbbb145e0fcb38aed32421f8a8a040f"></span><div class="line-block">
<div class="line">int <strong>dim</strong>()</div>
</div>
</p>
<blockquote>
<div><p></p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1add3942fe923ab2bfa0096cd4b0eb4592"></span><div class="line-block">
<div class="line">int <strong>GetMaxNumberOfBoundaryPlanes</strong>()</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Maximum number of planes that define the boundary of this domain.
Used for testing.</p>
<p>This result is NOT exact.</p>
<dl class="docutils">
<dt><strong>Returns</strong>:</dt>
<dd>max number of planes defining the boundary of this domain</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a5de47fa5d56e1a0bc00a246d75e75371"></span><div class="line-block">
<div class="line">void <strong>GetBoundaryPlanes</strong>(<a class="reference internal" href="gpp_geometry.html#project0structoptimal__learning_1_1_plane"><em>Plane</em></a>  *restrict planes)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Fills an input array with all bounding planes of this domain.
See struct Plane in gpp_geometry.hpp for how to specify a plane.
Used for testing.</p>
<p>Let max_num_bound = GetMaxNumberOfBoundaryPlanes()
<strong>Parameters</strong>:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">planes[max_num_bound]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">properly allocated space: max_num_bound Plane objects in dim spatial dimensions</td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl class="docutils">
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">planes[max_num_bound]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">array of planes of this domain</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a520917fdcc8b2278c90111b33b94c4f8"></span><div class="line-block">
<div class="line">bool <strong>CheckPointInside</strong>(double const *restrict point)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Check if a point is inside the domain/on its domain or outside</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">point[dim]:</th><td class="field-body">point to check</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>true if point is inside the domain or on its boundary, false otherwise</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1ac0aa2546efb658e18a78674c05701f64"></span><div class="line-block">
<div class="line">bool <strong>GeneratePointInDomain</strong>(<a class="reference internal" href="gpp_random.html#project0structoptimal__learning_1_1_uniform_random_generator"><em>UniformRandomGenerator</em></a>  * uniform_generator, double *restrict random_point)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Generates &#8220;point&#8221; such that CheckPointInside(point) returns true.</p>
<p>Uses rejection sampling so point generation may fail.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">a UniformRandomGenerator object providing the random engine for uniform random numbers</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">random_point[dim]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">properly sized array</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">UniformRandomGenerator object will have its state changed due to random draws</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">random_point[dim]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">point with coordinates inside the domain (left in invalid state if fcn returns false)</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>true if point generation succeeded</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a5d541da3e23d425fee508e556f8dfde6"></span><div class="line-block">
<div class="line">int <strong>GenerateUniformPointsInDomain</strong>(int num_points, <a class="reference internal" href="gpp_random.html#project0structoptimal__learning_1_1_uniform_random_generator"><em>UniformRandomGenerator</em></a>  * uniform_generator, double *restrict random_points)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Generates AT MOST num_points points in the domain (i.e., such that CheckPointInside(point) returns true).  The points
will be uniformly distributed.</p>
<p>Uses rejection sampling so we are not guaranteed to generate num_points samples.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">num_points:</th><td class="field-body">number of random points to generate</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a UniformRandomGenerator object providing the random engine for uniform random numbers</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">random_points[dim][num_points]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">properly sized array</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">UniformRandomGenerator object will have its state changed due to random draws</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">random_points[dim][num_points]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">point with coordinates inside the domain</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>number of points actually generated</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1aa6a464a992d7c4aabfdd07fdc9a79300"></span><div class="line-block">
<div class="line">void <strong>LimitUpdate</strong>(double max_relative_change, double const *restrict current_point, double *restrict update_vector)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><dl class="docutils">
<dt>Changes update_vector so that:</dt>
<dd><tt class="docutils literal"><span class="pre">point_new</span> <span class="pre">=</span> <span class="pre">point</span> <span class="pre">+</span> <span class="pre">update_vector</span></tt></dd>
</dl>
<p>has coordinates such that CheckPointInside(point_new) returns true.</p>
<p>update_vector is UNMODIFIED if point_new is already inside the domain.</p>
<p>Note: we modify update_vector (instead of returning point_new) so that further update
limiting/testing may be performed.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">max_relative_change:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">max change allowed per update (as a relative fraction of current distance to boundary)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">current_point[dim]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">starting point</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">update_vector[dim]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">proposed update</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">update_vector[dim]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">modified update so that the final point remains inside the domain</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
</div></blockquote>
<em>Public Static Attributes</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a0f6ba1d8eaa927d75921bc413529b62c"></span>constexpr char const * <strong>kName</strong></p>
<blockquote>
<div><p>string name of this domain for logging </p>
<p></p>
</div></blockquote>
</div></blockquote>
<em>Private Members</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a237a37b352d3e6c4f022a1170ed81fa8"></span>int <strong>dim_</strong></p>
<blockquote>
<div><p>the number of spatial dimensions of this domain </p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1aec22b3824a3faaf517c06c6423f026c1"></span><a class="reference internal" href="#project0classoptimal__learning_1_1_tensor_product_domain"><em>TensorProductDomain</em></a> <strong>tensor_product_domain_</strong></p>
<blockquote>
<div><p>the tensor product domain to intersect with </p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1aa0ae8ab25a3baa08691fceef865ab16b"></span><a class="reference internal" href="gpp_geometry.html#project0structoptimal__learning_1_1_plane"><em>Plane</em></a> <strong>simplex_plane_</strong></p>
<blockquote>
<div><p>the plane defining the simplex </p>
<p></p>
</div></blockquote>
</div></blockquote>
<em>Private Static Attributes</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a8f4cb7108ee68bf86ff5fe1f7fa65674"></span>constexpr double <strong>kPointGenerationRatio</strong></p>
<blockquote>
<div><p><a class="reference internal" href="#project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a5d541da3e23d425fee508e556f8dfde6"><em>GenerateUniformPointsInDomain()</em></a> is happy if ratio*requested_points number of points is generated. </p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a0621c1d1cb2e26c1e0a22112200ff68d"></span>constexpr double <strong>kValidPointRatioFloor</strong></p>
<blockquote>
<div><p>in <a class="reference internal" href="#project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a5d541da3e23d425fee508e556f8dfde6"><em>GenerateUniformPointsInDomain()</em></a>, if the ratio of valid points is &gt; this, we retry requesting 1/ratio points. otherwise we retry with 5x the points (i.e., flooring ratio at 5) </p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a15c2f2f4a5d38dadd98662065a5da91d"></span>constexpr int <strong>kMaxPointRatioGrowth</strong></p>
<blockquote>
<div><p>1/kValidPointRatioFloor; the most we&#8217;ll increase the number of requested points on a retry </p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1abd9869ad18f8f66cd1c36b0c5f24e40f"></span>constexpr double <strong>kInvalidStepScaleFactor</strong></p>
<blockquote>
<div><p>attempt to scale down the step-size (or distance to wall) by this factor when a domain-exiting (i.e., invalid) step is requested </p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_simplex_intersect_tensor_product_domain_1a6036f749075cb1d03b7ef155cc4f3f1b"></span>constexpr double <strong>kRelativeChangeEpsilonTweak</strong></p>
<blockquote>
<div><p>small tweak to relative_change (to prevent max_relative_change == 1.0 exactly; see LimitUpdate comments) </p>
<p></p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</p>
<p><p id="project0classoptimal__learning_1_1_repeated_domain"><em>class</em> <strong>RepeatedDomain</strong></p>
<blockquote>
<div><p></p>
<p><p>A generic domain type for simultaneously manipulating <tt class="docutils literal"><span class="pre">num_repeats</span></tt> points in a &#8220;regular&#8221; domain (the kernel).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Comments in this class are copied to RepeatedDomain in optimal_learning/python/repated_domain.py.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the kernel domain is <em>not</em> copied. Instead, the kernel functions are called
<tt class="docutils literal"><span class="pre">num_repeats</span></tt> times in a loop. In some cases, data reordering is also necessary
to preserve the output properties (e.g., uniform distribution).</p>
</div>
<p>For some use cases (e.g., q,p-EI optimization with <tt class="docutils literal"><span class="pre">q</span> <span class="pre">&gt;</span> <span class="pre">1</span></tt>), we need to simultaneously
manipulate several points within the same domain. To support this use case, we have
the <tt class="docutils literal"><span class="pre">RepeatedDomain</span></tt>, a light-weight wrapper around any <tt class="docutils literal"><span class="pre">DomainType</span></tt> object
that kernalizes that object&#8217;s functionality.</p>
<p>In general, kernel domain operations need be performed <tt class="docutils literal"><span class="pre">num_repeats</span></tt> times, once
for each point. This class hides the looping logic so that use cases like various
Optimizer implementations (gpp_optimization.hpp) do not need to be explicitly aware
of whether they are optimizing 1 point or 50 points. Instead, an optimizable
Evaluator/State pair provides GetProblemSize() and appropriately sized gradient information.
Coupled with <tt class="docutils literal"><span class="pre">RepeatedDomain</span></tt>, Optimizers can remain oblivious.</p>
<p>In simpler terms, say we want to solve 5,0-EI in a parameter-space of dimension 3.
So we would have 5 points moving around in a 3D space. The 3D space, whatever it is,
is the kernel domain. We &#8220;repeat&#8221; the kernel 5 times; in practice this mostly amounts to
simple loops around kernel functions and sometimes data reordering is also needed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this operation is more complex than just working in a higher dimensional space.
3 points in a 2D simplex is not the same as 1 point in a 6D simplex; e.g.,
<tt class="docutils literal"><span class="pre">[(0.5,</span> <span class="pre">0.5),</span> <span class="pre">(0.5,</span> <span class="pre">0.5),</span> <span class="pre">(0.5,</span> <span class="pre">0.5)]</span></tt> is valid in the first scenario but not in the second.</p>
</div>
<p>Where the member domain takes <tt class="docutils literal"><span class="pre">kernel_input</span></tt>, this class&#8217;s members take an array with
of <tt class="docutils literal"><span class="pre">num_repeats</span></tt> data with the same size as <tt class="docutils literal"><span class="pre">kernel_input</span></tt>, ordered sequentially. So
if we have <tt class="docutils literal"><span class="pre">kernel_input[dim][num_points]</span></tt>, we now have
<tt class="docutils literal"><span class="pre">repeated_input[dim][num_points][num_repeats]</span></tt>. The same is true for outputs.</p>
<p>For example, <tt class="docutils literal"><span class="pre">CheckPointInside()</span></tt> calls the kernel domain&#8217;s <tt class="docutils literal"><span class="pre">CheckPointInside()</span></tt>
function <tt class="docutils literal"><span class="pre">num_repeats</span></tt> times, returning True only if all <tt class="docutils literal"><span class="pre">num_repeats</span></tt> input
points are inside the kernel domain.</p>
 </p>
<em>Public Type</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1a105599509e7b43e2f91b2cdc9b64e6a6"></span>typedef DomainType_ <strong>DomainType</strong></p>
<blockquote>
<div><p></p>
<p></p>
</div></blockquote>
</div></blockquote>
<em>Public Functions</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1a0d2f4d79408f0d8439343a24257c5f7b"></span><div class="line-block">
<div class="line"> <strong>RepeatedDomain</strong>()</div>
</div>
</p>
<blockquote>
<div><p></p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1a26e875675ae6deed88f962cb8ea8ad0d"></span><div class="line-block">
<div class="line"> <strong>RepeatedDomain</strong>(const DomainType &amp; domain, int num_repeats_in)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Construct a RepeatedDomain object, which kernalizes and <tt class="docutils literal"><span class="pre">repeats</span></tt> an input <tt class="docutils literal"><span class="pre">DomainType</span></tt> object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this class maintains a <em>pointer</em> to the input domain. Do not let the domain object go
out of scope before this object goes out of scope.</p>
</div>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">domain:</th><td class="field-body">the domain to repeat</td>
</tr>
<tr class="field-even field"><th class="field-name">num_repeats:</th><td class="field-body">number of times to repeat the input domain</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1aed88fa48d06d3aadbc1b8c4eec72e8b9"></span><div class="line-block">
<div class="line">int <strong>dim</strong>()</div>
</div>
</p>
<blockquote>
<div><p></p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1ad52d26c70f4707fac0ac4b589970e648"></span><div class="line-block">
<div class="line">int <strong>num_repeats</strong>()</div>
</div>
</p>
<blockquote>
<div><p></p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1a5704856788e2c6becb5f5c3d5c202f8e"></span><div class="line-block">
<div class="line">bool <strong>CheckPointInside</strong>(double const *restrict point)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Check if a point is inside the domain/on its domain or outside</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">point[dim][num_repeats]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">point to check</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>true if point is inside the domain or on its boundary, false otherwise</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1acfda9b19a757a7c3c51cc37459265e76"></span><div class="line-block">
<div class="line">bool <strong>GeneratePointInDomain</strong>(<a class="reference internal" href="gpp_random.html#project0structoptimal__learning_1_1_uniform_random_generator"><em>UniformRandomGenerator</em></a>  * uniform_generator, double *restrict random_point)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Generates &#8220;point&#8221; such that CheckPointInside(point) returns true.</p>
<p>May use rejection sampling so point generation may fail.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">a UniformRandomGenerator object providing the random engine for uniform random numbers</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">random_point[dim][num_repeats]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">properly sized array</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">UniformRandomGenerator object will have its state changed due to random draws</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">random_point[dim][num_repeats]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">point with coordinates inside the domain (left in invalid state if fcn returns false)</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>true if point generation succeeded</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1afa6b1cd916310c6c693e280a67ee300b"></span><div class="line-block">
<div class="line">int <strong>GenerateUniformPointsInDomain</strong>(int num_points, <a class="reference internal" href="gpp_random.html#project0structoptimal__learning_1_1_uniform_random_generator"><em>UniformRandomGenerator</em></a>  * uniform_generator, double *restrict random_points)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Generates AT MOST num_points points in the domain (i.e., such that CheckPointInside(point) returns true).  The points
will be uniformly distributed.</p>
<p>May use rejection sampling so we are not guaranteed to generate num_points samples.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">num_points:</th><td class="field-body">number of random points to generate</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a UniformRandomGenerator object providing the random engine for uniform random numbers</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">random_points[dim][num_repeats][num_points]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">properly sized array</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">UniformRandomGenerator object will have its state changed due to random draws</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">random_points[dim][num_repeats][num_points]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">point with coordinates inside the domain</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>number of points actually generated</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1ac9d9be339e0c2d6842fb2ebf6a176560"></span><div class="line-block">
<div class="line">void <strong>LimitUpdate</strong>(double max_relative_change, double const *restrict current_point, double *restrict update_vector)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><dl class="docutils">
<dt>Changes update_vector so that:</dt>
<dd><tt class="docutils literal"><span class="pre">point_new</span> <span class="pre">=</span> <span class="pre">point</span> <span class="pre">+</span> <span class="pre">update_vector</span></tt></dd>
</dl>
<p>has coordinates such that CheckPointInside(point_new) returns true.</p>
<p>update_vector is UNMODIFIED if point_new is already inside the domain.</p>
<p>Note: we modify update_vector (instead of returning point_new) so that further update
limiting/testing may be performed.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">max_relative_change:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">max change allowed per update (as a relative fraction of current distance to boundary)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">current_point[dim][num_repeats]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">starting point</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">update_vector[dim][num_repeats]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">proposed update</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">update_vector[dim][num_repeats]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">modified update so that the final point remains inside the domain</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
</div></blockquote>
<em>Private Members</em><blockquote>
<div><p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1af0088e3a1d4109d8a6d430dd2c4b0fa3"></span>int <strong>num_repeats_</strong></p>
<blockquote>
<div><p>number of times to repeat the input domain </p>
<p></p>
</div></blockquote>
<p><span class="target" id="project0classoptimal__learning_1_1_repeated_domain_1a826fcc66ef9eb1353da527012e48095f"></span>const DomainType *restrict <strong>domain_</strong></p>
<blockquote>
<div><p>pointer to the domain to repeat </p>
<p></p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</p>
</div></blockquote>
</p>
</div>
<div class="section" id="gpp-domain-cpp">
<h2>gpp_domain.cpp<a class="headerlink" href="#gpp-domain-cpp" title="Permalink to this headline">¶</a></h2>
<p></p>
<p><p>This file contains definitions for constructors and member functions of the various domain classes in gpp_domain.hpp.</p>
 </p>
<p><p id="project0namespaceoptimal__learning"><em>namespace</em> <strong>optimal_learning</strong></p>
<blockquote>
<div><p></p>
<p></p>
</div></blockquote>
</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gpp_python_common.html" class="btn btn-neutral float-right" title="gpp_python_common"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gpp_python_test.html" class="btn btn-neutral" title="gpp_python_test"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2014 Yelp. MOE is licensed under the Apache License, Version 2.0: http://www.apache.org/licenses/LICENSE-2.0.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>