

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>moe.bandit.ucb package &mdash; MOE 0.2.2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
  
    <link rel="top" title="MOE 0.2.2 documentation" href="index.html"/>
        <link rel="up" title="moe.bandit package" href="moe.bandit.html"/>
        <link rel="next" title="moe.build package" href="moe.build.html"/>
        <link rel="prev" title="moe.bandit.epsilon package" href="moe.bandit.epsilon.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> MOE</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="why_moe.html">Why Do We Need MOE?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="why_moe.html#other-methods">Other Methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-in-docker">Install in docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-from-source">Install from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#osx-tips">OSX Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#building-boost">Building Boost</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#linux-tips">Linux Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#cmake-tips">CMake Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#python-tips">Python Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="moe_math.html">How does MOE work?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#build-a-gaussian-process-gp-with-the-historical-data">Build a Gaussian Process (GP) with the historical data</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#optimize-the-hyperparameters-of-the-gaussian-process">Optimize the hyperparameters of the Gaussian Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#find-the-point-s-of-highest-expected-improvement-ei">Find the point(s) of highest Expected Improvement (EI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#return-the-point-s-to-sample-then-repeat">Return the point(s) to sample, then repeat</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demo_tutorial.html">Demo Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="demo_tutorial.html#the-interactive-demo">The Interactive Demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pretty_endpoints.html">Pretty Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="objective_functions.html">Objective Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#what-is-an-objective-function">What is an objective function?</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#properties-of-an-objective-function">Properties of an objective function</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#id1"><span class="math">\(\Phi\)</span> Objective Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#example-of-objective-functions">Example of Objective Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bandit.html">Multi-Armed Bandits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bandit.html#what-is-the-multi-armed-bandit-problem">What is the multi-armed bandit problem?</a></li>
<li class="toctree-l2"><a class="reference internal" href="bandit.html#applications">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="bandit.html#policies">Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="bandit.html#pointers">Pointers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#minimizing-an-arbitrary-function">Minimizing an arbitrary function</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#gaussian-process-regression-given-historical-data">Gaussian Process regression given historical data</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#hyperparameter-optimization-of-a-gaussian-process">Hyperparameter optimization of a Gaussian Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#all-above-examples-combined">All above examples combined</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#setting-thresholds-for-advertising-units">Setting thresholds for advertising units</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#making-a-pull-request">Making a pull request</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#style">Style</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#versioning">Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#releasing-for-maintainers">Releasing (For Maintainers)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-license-is-moe-released-under">What license is MOE released under?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#when-should-i-use-moe">When should I use MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-is-the-time-complexity-of-moe">What is the time complexity of MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-do-i-cite-moe">How do I cite MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-does-moe-take-so-long-to-return-the-next-points-to-sample-for-some-inputs">Why does MOE take so long to return the next points to sample for some inputs?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-do-i-bootstrap-moe-what-initial-data-does-it-need">How do I bootstrap MOE? What initial data does it need?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-many-function-evaluations-do-i-need-before-moe-is-done">How many function evaluations do I need before MOE is &#8220;done&#8221;?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-many-function-evaluations-do-i-perform-before-i-update-the-hyperparameters-of-the-gp">How many function evaluations do I perform before I update the hyperparameters of the GP?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#will-you-accept-my-pull-request">Will you accept my pull request?</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="moe.html">moe package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="moe.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe.resources">moe.resources module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="moe_examples.html">moe_examples package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples.bandit_example">moe_examples.bandit_example module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples.blog_post_example_ab_testing">moe_examples.blog_post_example_ab_testing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples.combined_example">moe_examples.combined_example module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples.hyper_opt_of_gp_from_historical_data">moe_examples.hyper_opt_of_gp_from_historical_data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples.mean_and_var_of_gp_from_historic_data">moe_examples.mean_and_var_of_gp_from_historic_data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples.next_point_via_simple_endpoint">moe_examples.next_point_via_simple_endpoint module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.html#module-moe_examples">Module contents</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cpp_tree.html">C++ Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization_test.html">gpp_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain_test.html">gpp_domain_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_expected_improvement_gpu.html">gpp_expected_improvement_gpu</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization_test.html">gpp_heuristic_expected_improvement_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra_test.html">gpp_linear_algebra_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry.html">gpp_geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization.html">gpp_heuristic_expected_improvement_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra-inl.html">gpp_linear_algebra-inl</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils.html">gpp_test_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_logging.html">gpp_logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance.html">gpp_covariance</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_test.html">gpp_python_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain.html">gpp_domain</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_common.html">gpp_python_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyperparameter_optimization_demo.html">gpp_hyperparameter_optimization_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry_test.html">gpp_geometry_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math_test.html">gpp_math_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_cuda_math.html">gpp_cuda_math</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_model_selection.html">gpp_python_model_selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math.html">gpp_math</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random_test.html">gpp_random_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimizer_parameters.html">gpp_optimizer_parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_expected_improvement_demo.html">gpp_expected_improvement_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization.html">gpp_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils_test.html">gpp_test_utils_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra.html">gpp_linear_algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_expected_improvement.html">gpp_python_expected_improvement</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_exception.html">gpp_exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection.html">gpp_model_selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random.html">gpp_random</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance_test.html">gpp_covariance_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_mock_optimization_objective_functions.html">gpp_mock_optimization_objective_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python.html">gpp_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection_test.html">gpp_model_selection_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyper_and_EI_demo.html">gpp_hyper_and_EI_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_gaussian_process.html">gpp_python_gaussian_process</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_common.html">gpp_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_expected_improvement_gpu_test.html">gpp_expected_improvement_gpu_test</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">MOE</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="moe.html">moe package</a> &raquo;</li>
      
          <li><a href="moe.bandit.html">moe.bandit package</a> &raquo;</li>
      
    <li>moe.bandit.ucb package</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/moe.bandit.ucb.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="moe-bandit-ucb-package">
<h1>moe.bandit.ucb package<a class="headerlink" href="#moe-bandit-ucb-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-moe.bandit.ucb.ucb1">
<span id="moe-bandit-ucb-ucb1-module"></span><h2>moe.bandit.ucb.ucb1 module<a class="headerlink" href="#module-moe.bandit.ucb.ucb1" title="Permalink to this headline">¶</a></h2>
<p>Classes (Python) to compute the Bandit UCB1 arm allocation and choosing the arm to pull next.</p>
<p>See <a class="reference internal" href="#moe.bandit.ucb.ucb_interface.UCBInterface" title="moe.bandit.ucb.ucb_interface.UCBInterface"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.ucb.ucb_interface.UCBInterface</span></tt></a> for further details on this bandit.</p>
<dl class="class">
<dt id="moe.bandit.ucb.ucb1.UCB1">
<em class="property">class </em><tt class="descclassname">moe.bandit.ucb.ucb1.</tt><tt class="descname">UCB1</tt><big>(</big><em>historical_info</em><big>)</big><a class="reference internal" href="_modules/moe/bandit/ucb/ucb1.html#UCB1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe.bandit.ucb.ucb1.UCB1" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#moe.bandit.ucb.ucb_interface.UCBInterface" title="moe.bandit.ucb.ucb_interface.UCBInterface"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.ucb.ucb_interface.UCBInterface</span></tt></a></p>
<p>Implementation of UCB1.</p>
<p>A class to encapsulate the computation of bandit UCB1.
See <a class="reference internal" href="#moe.bandit.ucb.ucb_interface.UCBInterface.allocate_arms" title="moe.bandit.ucb.ucb_interface.UCBInterface.allocate_arms"><tt class="xref py py-func docutils literal"><span class="pre">moe.bandit.ucb.ucb_interface.UCBInterface.allocate_arms()</span></tt></a> for more details on how UCB allocates arms.</p>
<p>See superclass <a class="reference internal" href="#moe.bandit.ucb.ucb_interface.UCBInterface" title="moe.bandit.ucb.ucb_interface.UCBInterface"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.ucb.ucb_interface.UCBInterface</span></tt></a> for further details.</p>
<dl class="method">
<dt id="moe.bandit.ucb.ucb1.UCB1.get_ucb_payoff">
<tt class="descname">get_ucb_payoff</tt><big>(</big><em>sampled_arm</em>, <em>number_sampled</em><big>)</big><a class="reference internal" href="_modules/moe/bandit/ucb/ucb1.html#UCB1.get_ucb_payoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe.bandit.ucb.ucb1.UCB1.get_ucb_payoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the expected upper confidence bound payoff using the UCB1 formula.</p>
<p>The expected upper confidence bound payoff (expected UCB payoff) is computed as follows:</p>
<div class="math">
\[r_j = \mu + \sqrt{\frac{2 \ln n}{n_j}}\]</div>
<p>where <span class="math">\(\mu\)</span> is the average payoff obtained from arm <em>j</em> (the given <tt class="docutils literal"><span class="pre">sampled_arm</span></tt>),
<span class="math">\(n_j\)</span> is the number of times arm <em>j</em> has been pulled (<tt class="docutils literal"><span class="pre">sampled_arm.total</span></tt>),
and <em>n</em> is overall the number of pulls so far (<tt class="docutils literal"><span class="pre">number_sampled</span></tt>). <tt class="docutils literal"><span class="pre">number_sampled</span></tt> (number sampled)
is calculated by summing up total from each arm sampled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sampled_arm</strong> (<a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a>) &#8211; a sampled arm</li>
<li><strong>number_sampled</strong> (<em>int</em>) &#8211; the overall number of pulls so far</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ucb payoff</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">float64</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body"><p class="first last">ValueError when <tt class="docutils literal"><span class="pre">sampled_arm</span></tt> is empty.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-moe.bandit.ucb.ucb1_tuned">
<span id="moe-bandit-ucb-ucb1-tuned-module"></span><h2>moe.bandit.ucb.ucb1_tuned module<a class="headerlink" href="#module-moe.bandit.ucb.ucb1_tuned" title="Permalink to this headline">¶</a></h2>
<p>Classes (Python) to compute the Bandit UCB1-tuned arm allocation and choosing the arm to pull next.</p>
<p>See <a class="reference internal" href="#moe.bandit.ucb.ucb_interface.UCBInterface" title="moe.bandit.ucb.ucb_interface.UCBInterface"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.ucb.ucb_interface.UCBInterface</span></tt></a> for further details on this bandit.</p>
<dl class="class">
<dt id="moe.bandit.ucb.ucb1_tuned.UCB1Tuned">
<em class="property">class </em><tt class="descclassname">moe.bandit.ucb.ucb1_tuned.</tt><tt class="descname">UCB1Tuned</tt><big>(</big><em>historical_info</em><big>)</big><a class="reference internal" href="_modules/moe/bandit/ucb/ucb1_tuned.html#UCB1Tuned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe.bandit.ucb.ucb1_tuned.UCB1Tuned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#moe.bandit.ucb.ucb_interface.UCBInterface" title="moe.bandit.ucb.ucb_interface.UCBInterface"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.ucb.ucb_interface.UCBInterface</span></tt></a></p>
<p>Implementation of UCB1-tuned.</p>
<p>A class to encapsulate the computation of bandit UCB1-tuned.
See <a class="reference internal" href="#moe.bandit.ucb.ucb_interface.UCBInterface.allocate_arms" title="moe.bandit.ucb.ucb_interface.UCBInterface.allocate_arms"><tt class="xref py py-func docutils literal"><span class="pre">moe.bandit.ucb.ucb_interface.UCBInterface.allocate_arms()</span></tt></a> for more details on how UCB allocates arms.</p>
<p>See superclass <a class="reference internal" href="#moe.bandit.ucb.ucb_interface.UCBInterface" title="moe.bandit.ucb.ucb_interface.UCBInterface"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.ucb.ucb_interface.UCBInterface</span></tt></a> for further details.</p>
<dl class="method">
<dt id="moe.bandit.ucb.ucb1_tuned.UCB1Tuned.get_ucb_payoff">
<tt class="descname">get_ucb_payoff</tt><big>(</big><em>sampled_arm</em>, <em>number_sampled</em><big>)</big><a class="reference internal" href="_modules/moe/bandit/ucb/ucb1_tuned.html#UCB1Tuned.get_ucb_payoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe.bandit.ucb.ucb1_tuned.UCB1Tuned.get_ucb_payoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the expected upper confidence bound payoff using the UCB1-tuned formula.</p>
<p>The upper confidence bound for the variance of machine <em>j</em> <span class="math">\(v_j(n_j)\)</span> is computed as follows:</p>
<div class="math">
\[v_j(n_j) = \sigma^2 + \sqrt{\frac{2 \ln n}{n_j}}\]</div>
<p>where <span class="math">\(\sigma^2\)</span> is the sample variance of arm <em>j</em> (the given <tt class="docutils literal"><span class="pre">sampled_arm</span></tt>),
<span class="math">\(n_j\)</span> is the number of times arm <em>j</em> has been pulled (<tt class="docutils literal"><span class="pre">sampled_arm.total</span></tt>),
and <em>n</em> is overall the number of pulls so far (<tt class="docutils literal"><span class="pre">number_sampled</span></tt>). <tt class="docutils literal"><span class="pre">number_sampled</span></tt> (number sampled)
is calculated by summing up total from each arm sampled.</p>
<p>The expected upper confidence bound payoff (expected UCB payoff) is computed as follows:</p>
<div class="math">
\[r_j = \mu + \sqrt{\frac{\ln n}{n_j} \min \{1/4, v_j(n_j)\}}\]</div>
<p>where <span class="math">\(\mu\)</span> is the average payoff obtained from arm <em>j</em> and 1/4 is
an upper bound on the variance of a Bernoulli random variable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sampled_arm</strong> (<a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a>) &#8211; a sampled arm</li>
<li><strong>number_sampled</strong> (<em>int</em>) &#8211; the overall number of pulls so far</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ucb payoff</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">float64</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body"><p class="first last">ValueError when <tt class="docutils literal"><span class="pre">sampled_arm</span></tt> is empty.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-moe.bandit.ucb.ucb_interface">
<span id="moe-bandit-ucb-ucb-interface-module"></span><h2>moe.bandit.ucb.ucb_interface module<a class="headerlink" href="#module-moe.bandit.ucb.ucb_interface" title="Permalink to this headline">¶</a></h2>
<p>Classes (Python) to compute the Bandit UCB (Upper Confidence Bound) arm allocation and choosing the arm to pull next.</p>
<p>See <a class="reference internal" href="moe.bandit.html#module-moe.bandit.bandit_interface" title="moe.bandit.bandit_interface"><tt class="xref py py-mod docutils literal"><span class="pre">moe.bandit.bandit_interface</span></tt></a> for further details on bandit.</p>
<dl class="class">
<dt id="moe.bandit.ucb.ucb_interface.UCBInterface">
<em class="property">class </em><tt class="descclassname">moe.bandit.ucb.ucb_interface.</tt><tt class="descname">UCBInterface</tt><big>(</big><em>historical_info</em>, <em>subtype=None</em><big>)</big><a class="reference internal" href="_modules/moe/bandit/ucb/ucb_interface.html#UCBInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe.bandit.ucb.ucb_interface.UCBInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="moe.bandit.html#moe.bandit.bandit_interface.BanditInterface" title="moe.bandit.bandit_interface.BanditInterface"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.bandit_interface.BanditInterface</span></tt></a></p>
<p>Implementation of the constructor of UCB (Upper Confidence Bound) and method allocate_arms. The method get_ucb_payoff is implemented in subclass.</p>
<p>A class to encapsulate the computation of bandit UCB.
The Algorithm: <a class="reference external" href="http://moodle.technion.ac.il/pluginfile.php/192340/mod_resource/content/0/UCB.pdf">http://moodle.technion.ac.il/pluginfile.php/192340/mod_resource/content/0/UCB.pdf</a></p>
<p>To inherit this class, a subclass needs to implement get_ucb_payoff
(see <a class="reference internal" href="#moe.bandit.ucb.ucb1.UCB1.get_ucb_payoff" title="moe.bandit.ucb.ucb1.UCB1.get_ucb_payoff"><tt class="xref py py-func docutils literal"><span class="pre">moe.bandit.ucb.ucb1.UCB1.get_ucb_payoff()</span></tt></a> for an example), everything else is already implemented.</p>
<p>See <a class="reference internal" href="moe.bandit.html#module-moe.bandit.bandit_interface" title="moe.bandit.bandit_interface"><tt class="xref py py-mod docutils literal"><span class="pre">moe.bandit.bandit_interface</span></tt></a> docs for further details.</p>
<dl class="method">
<dt id="moe.bandit.ucb.ucb_interface.UCBInterface.allocate_arms">
<tt class="descname">allocate_arms</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/moe/bandit/ucb/ucb_interface.html#UCBInterface.allocate_arms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe.bandit.ucb.ucb_interface.UCBInterface.allocate_arms" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the allocation to each arm given <tt class="docutils literal"><span class="pre">historical_info</span></tt>, running bandit <tt class="docutils literal"><span class="pre">subtype</span></tt> endpoint.</p>
<p>Computes the allocation to each arm based on the given subtype, and, historical info.</p>
<p>Works with k-armed bandits (k &gt;= 1).</p>
<p>The Algorithm: <a class="reference external" href="http://moodle.technion.ac.il/pluginfile.php/192340/mod_resource/content/0/UCB.pdf">http://moodle.technion.ac.il/pluginfile.php/192340/mod_resource/content/0/UCB.pdf</a></p>
<p>If there is at least one unsampled arm, this method will choose to pull the unsampled arm
(randomly choose an unsampled arm if there are multiple unsampled arms).
If all arms are pulled at least once, this method will pull the optimal arm
(best expected upper confidence bound payoff).</p>
<p>See <a class="reference internal" href="#moe.bandit.ucb.ucb_interface.UCBInterface.get_ucb_payoff" title="moe.bandit.ucb.ucb_interface.UCBInterface.get_ucb_payoff"><tt class="xref py py-func docutils literal"><span class="pre">moe.bandit.ucb.ucb_interface.UCBInterface.get_ucb_payoff()</span></tt></a> for details on how to compute the expected upper confidence bound payoff (expected UCB payoff)</p>
<p>In case of a tie, the method will split the allocation among the optimal arms.
For example, if we have three arms (arm1, arm2, and arm3) with expected UCB payoff 0.5, 0.5, and 0.1 respectively.
We split the allocation between the optimal arms arm1 and arm2.</p>
<p><tt class="docutils literal"><span class="pre">{arm1:</span> <span class="pre">0.5,</span> <span class="pre">arm2:</span> <span class="pre">0.5,</span> <span class="pre">arm3:</span> <span class="pre">0.0}</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the dictionary of (arm, allocation) key-value pairs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">a dictionary of (str, float64) pairs</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body">ValueError when <tt class="docutils literal"><span class="pre">sample_arms</span></tt> are empty.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="moe.bandit.ucb.ucb_interface.UCBInterface.get_ucb_payoff">
<tt class="descname">get_ucb_payoff</tt><big>(</big><em>sampled_arm</em>, <em>number_sampled</em><big>)</big><a class="reference internal" href="_modules/moe/bandit/ucb/ucb_interface.html#UCBInterface.get_ucb_payoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe.bandit.ucb.ucb_interface.UCBInterface.get_ucb_payoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the expected upper confidence bound payoff using the UCB subtype formula.</p>
<p>See definition in subclasses for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sampled_arm</strong> (<a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a>) &#8211; a sampled arm</li>
<li><strong>number_sampled</strong> (<em>int</em>) &#8211; the overall number of pulls so far</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ucb payoff</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">float64</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body"><p class="first last">ValueError when <tt class="docutils literal"><span class="pre">sampled_arm</span></tt> is empty.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="moe.bandit.ucb.ucb_interface.UCBInterface.get_unsampled_arm_names">
<em class="property">static </em><tt class="descname">get_unsampled_arm_names</tt><big>(</big><em>arms_sampled</em><big>)</big><a class="reference internal" href="_modules/moe/bandit/ucb/ucb_interface.html#UCBInterface.get_unsampled_arm_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe.bandit.ucb.ucb_interface.UCBInterface.get_unsampled_arm_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the set of unsampled arm names based on the given <tt class="docutils literal"><span class="pre">arms_sampled</span></tt>..</p>
<p>Throws an exception when arms_sampled is empty.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arms_sampled</strong> (<em>dictionary of (str, SampleArm()) pairs</em>) &#8211; a dictionary of arm name to <a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">set of names of the unsampled arms</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">frozenset(str)</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">ValueError when <tt class="docutils literal"><span class="pre">arms_sampled</span></tt> are empty.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="moe.bandit.ucb.ucb_interface.UCBInterface.get_winning_arm_names">
<tt class="descname">get_winning_arm_names</tt><big>(</big><em>arms_sampled</em><big>)</big><a class="reference internal" href="_modules/moe/bandit/ucb/ucb_interface.html#UCBInterface.get_winning_arm_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe.bandit.ucb.ucb_interface.UCBInterface.get_winning_arm_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the set of winning arm names based on the given <tt class="docutils literal"><span class="pre">arms_sampled</span></tt>..</p>
<p>Throws an exception when arms_sampled is empty.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arms_sampled</strong> (<em>dictionary of (str, SampleArm()) pairs</em>) &#8211; a dictionary of arm name to <a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">set of names of the winning arms</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">frozenset(str)</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">ValueError when <tt class="docutils literal"><span class="pre">arms_sampled</span></tt> are empty.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-moe.bandit.ucb">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-moe.bandit.ucb" title="Permalink to this headline">¶</a></h2>
<p>Bandit directory containing multi-armed bandit implementations of UCB policies in python.</p>
<p><strong>Files in this package</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#module-moe.bandit.ucb.ucb1" title="moe.bandit.ucb.ucb1"><tt class="xref py py-mod docutils literal"><span class="pre">moe.bandit.ucb.ucb1</span></tt></a>: <a class="reference internal" href="#moe.bandit.ucb.ucb1.UCB1" title="moe.bandit.ucb.ucb1.UCB1"><tt class="xref py py-class docutils literal"><span class="pre">UCB1</span></tt></a>
object for allocating bandit arms and choosing the winning arm based on UCB1 policy.</li>
<li><a class="reference internal" href="#module-moe.bandit.ucb.ucb1_tuned" title="moe.bandit.ucb.ucb1_tuned"><tt class="xref py py-mod docutils literal"><span class="pre">moe.bandit.ucb.ucb1_tuned</span></tt></a>: <a class="reference internal" href="#moe.bandit.ucb.ucb1_tuned.UCB1Tuned" title="moe.bandit.ucb.ucb1_tuned.UCB1Tuned"><tt class="xref py py-class docutils literal"><span class="pre">UCB1Tuned</span></tt></a>
object for allocating bandit arms and choosing the winning arm based on UCB1-tuned policy.</li>
<li><a class="reference internal" href="#module-moe.bandit.ucb.ucb_interface" title="moe.bandit.ucb.ucb_interface"><tt class="xref py py-mod docutils literal"><span class="pre">moe.bandit.ucb.ucb_interface</span></tt></a>: a base <a class="reference internal" href="#moe.bandit.ucb.ucb_interface.UCBInterface" title="moe.bandit.ucb.ucb_interface.UCBInterface"><tt class="xref py py-class docutils literal"><span class="pre">UCBInterface</span></tt></a>
object for all bandit UCB subtypes.</li>
</ul>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="moe.build.html" class="btn btn-neutral float-right" title="moe.build package"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="moe.bandit.epsilon.html" class="btn btn-neutral" title="moe.bandit.epsilon package"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2014 Yelp. MOE is licensed under the Apache License, Version 2.0: http://www.apache.org/licenses/LICENSE-2.0.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>