

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>moe_examples package &mdash; MOE 0.2.2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
  
    <link rel="top" title="MOE 0.2.2 documentation" href="index.html"/>
        <link rel="next" title="moe_examples.tests package" href="moe_examples.tests.html"/>
        <link rel="prev" title="moe.views.schemas.rest package" href="moe.views.schemas.rest.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> MOE</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="why_moe.html">Why Do We Need MOE?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="why_moe.html#other-methods">Other Methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-in-docker">Install in docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-from-source">Install from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#osx-tips">OSX Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#building-boost">Building Boost</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#linux-tips">Linux Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#cmake-tips">CMake Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#python-tips">Python Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="moe_math.html">How does MOE work?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#build-a-gaussian-process-gp-with-the-historical-data">Build a Gaussian Process (GP) with the historical data</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#optimize-the-hyperparameters-of-the-gaussian-process">Optimize the hyperparameters of the Gaussian Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#find-the-point-s-of-highest-expected-improvement-ei">Find the point(s) of highest Expected Improvement (EI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_math.html#return-the-point-s-to-sample-then-repeat">Return the point(s) to sample, then repeat</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demo_tutorial.html">Demo Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="demo_tutorial.html#the-interactive-demo">The Interactive Demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pretty_endpoints.html">Pretty Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="objective_functions.html">Objective Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#what-is-an-objective-function">What is an objective function?</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#properties-of-an-objective-function">Properties of an objective function</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#id1"><span class="math">\(\Phi\)</span> Objective Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#example-of-objective-functions">Example of Objective Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bandit.html">Multi-Armed Bandits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bandit.html#what-is-the-multi-armed-bandit-problem">What is the multi-armed bandit problem?</a></li>
<li class="toctree-l2"><a class="reference internal" href="bandit.html#applications">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="bandit.html#policies">Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="bandit.html#pointers">Pointers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#minimizing-an-arbitrary-function">Minimizing an arbitrary function</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#gaussian-process-regression-given-historical-data">Gaussian Process regression given historical data</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#hyperparameter-optimization-of-a-gaussian-process">Hyperparameter optimization of a Gaussian Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#all-above-examples-combined">All above examples combined</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#setting-thresholds-for-advertising-units">Setting thresholds for advertising units</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#making-a-pull-request">Making a pull request</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#style">Style</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#versioning">Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#releasing-for-maintainers">Releasing (For Maintainers)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-license-is-moe-released-under">What license is MOE released under?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#when-should-i-use-moe">When should I use MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-is-the-time-complexity-of-moe">What is the time complexity of MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-do-i-cite-moe">How do I cite MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-does-moe-take-so-long-to-return-the-next-points-to-sample-for-some-inputs">Why does MOE take so long to return the next points to sample for some inputs?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-do-i-bootstrap-moe-what-initial-data-does-it-need">How do I bootstrap MOE? What initial data does it need?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-many-function-evaluations-do-i-need-before-moe-is-done">How many function evaluations do I need before MOE is &#8220;done&#8221;?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-many-function-evaluations-do-i-perform-before-i-update-the-hyperparameters-of-the-gp">How many function evaluations do I perform before I update the hyperparameters of the GP?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#will-you-accept-my-pull-request">Will you accept my pull request?</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="moe.html">moe package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe.resources">moe.resources module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">moe_examples package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-moe_examples.bandit_example">moe_examples.bandit_example module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-moe_examples.blog_post_example_ab_testing">moe_examples.blog_post_example_ab_testing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-moe_examples.combined_example">moe_examples.combined_example module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-moe_examples.hyper_opt_of_gp_from_historical_data">moe_examples.hyper_opt_of_gp_from_historical_data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-moe_examples.mean_and_var_of_gp_from_historic_data">moe_examples.mean_and_var_of_gp_from_historic_data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-moe_examples.next_point_via_simple_endpoint">moe_examples.next_point_via_simple_endpoint module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-moe_examples">Module contents</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cpp_tree.html">C++ Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization_test.html">gpp_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain_test.html">gpp_domain_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_expected_improvement_gpu.html">gpp_expected_improvement_gpu</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization_test.html">gpp_heuristic_expected_improvement_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra_test.html">gpp_linear_algebra_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry.html">gpp_geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization.html">gpp_heuristic_expected_improvement_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra-inl.html">gpp_linear_algebra-inl</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils.html">gpp_test_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_logging.html">gpp_logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance.html">gpp_covariance</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_test.html">gpp_python_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain.html">gpp_domain</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_common.html">gpp_python_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyperparameter_optimization_demo.html">gpp_hyperparameter_optimization_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry_test.html">gpp_geometry_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math_test.html">gpp_math_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_cuda_math.html">gpp_cuda_math</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_model_selection.html">gpp_python_model_selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math.html">gpp_math</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random_test.html">gpp_random_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimizer_parameters.html">gpp_optimizer_parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_expected_improvement_demo.html">gpp_expected_improvement_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization.html">gpp_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils_test.html">gpp_test_utils_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra.html">gpp_linear_algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_expected_improvement.html">gpp_python_expected_improvement</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_exception.html">gpp_exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection.html">gpp_model_selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random.html">gpp_random</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance_test.html">gpp_covariance_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_mock_optimization_objective_functions.html">gpp_mock_optimization_objective_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python.html">gpp_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection_test.html">gpp_model_selection_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyper_and_EI_demo.html">gpp_hyper_and_EI_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_gaussian_process.html">gpp_python_gaussian_process</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_common.html">gpp_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_expected_improvement_gpu_test.html">gpp_expected_improvement_gpu_test</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">MOE</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>moe_examples package</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/moe_examples.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="moe-examples-package">
<h1>moe_examples package<a class="headerlink" href="#moe-examples-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="moe_examples.tests.html">moe_examples.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.tests.html#module-moe_examples.tests.bandit_example_test">moe_examples.tests.bandit_example_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.tests.html#module-moe_examples.tests.combined_example_test">moe_examples.tests.combined_example_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.tests.html#module-moe_examples.tests.hyper_opt_of_gp_from_historical_data_test">moe_examples.tests.hyper_opt_of_gp_from_historical_data_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.tests.html#module-moe_examples.tests.mean_and_var_of_gp_from_historic_data_test">moe_examples.tests.mean_and_var_of_gp_from_historic_data_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.tests.html#module-moe_examples.tests.moe_example_test_case">moe_examples.tests.moe_example_test_case module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.tests.html#module-moe_examples.tests.next_point_via_simple_endpoint_test">moe_examples.tests.next_point_via_simple_endpoint_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe_examples.tests.html#module-moe_examples.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-moe_examples.bandit_example">
<span id="moe-examples-bandit-example-module"></span><h2>moe_examples.bandit_example module<a class="headerlink" href="#module-moe_examples.bandit_example" title="Permalink to this headline">¶</a></h2>
<p>An example for accessing the all the types in moe/easy_interface/bandit_simple_endpoint.</p>
<p>The following function is used:</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference internal" href="moe.easy_interface.html#moe.easy_interface.bandit_simple_endpoint.bandit" title="moe.easy_interface.bandit_simple_endpoint.bandit"><tt class="xref py py-func docutils literal"><span class="pre">moe.easy_interface.bandit_simple_endpoint.bandit()</span></tt></a></li>
</ol>
</div></blockquote>
<p>See <a class="reference internal" href="bandit.html"><em>Multi-Armed Bandits</em></a> for more details on multi-armed bandits.
The function requires some historical information to inform bandit.</p>
<p>We compute arm allocations for all bandit type and subtypes with the simple example of Bernoulli arms.</p>
<dl class="function">
<dt id="moe_examples.bandit_example.run_example">
<tt class="descclassname">moe_examples.bandit_example.</tt><tt class="descname">run_example</tt><big>(</big><em>verbose=True</em>, <em>testapp=None</em>, <em>bandit_bla_kwargs=None</em>, <em>bandit_epsilon_kwargs=None</em>, <em>bandit_ucb_kwargs=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/moe_examples/bandit_example.html#run_example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.bandit_example.run_example" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the bandit example.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>verbose</strong> (<em>bool</em>) &#8211; Whether to print information to the screen [True]</li>
<li><strong>testapp</strong> (<em>Pyramid test application</em>) &#8211; Whether to use a supplied test pyramid application or a rest server [None]</li>
<li><strong>bandit_bla_kwargs</strong> (<em>dict</em>) &#8211; Optional kwargs to pass to bandit_bla endpoint</li>
<li><strong>bandit_epsilon_kwargs</strong> (<em>dict</em>) &#8211; Optional kwargs to pass to bandit_epsilon endpoint</li>
<li><strong>bandit_ucb_kwargs</strong> (<em>dict</em>) &#8211; Optional kwargs to pass to bandit_ucb endpoint</li>
<li><strong>kwargs</strong> (<em>dict</em>) &#8211; Optional kwargs to pass to all endpoints</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-moe_examples.blog_post_example_ab_testing">
<span id="moe-examples-blog-post-example-ab-testing-module"></span><h2>moe_examples.blog_post_example_ab_testing module<a class="headerlink" href="#module-moe_examples.blog_post_example_ab_testing" title="Permalink to this headline">¶</a></h2>
<p>An example of using MOE to optimize a simulated A/B testing framework.</p>
<p>Blog post: <a class="reference external" href="http://engineeringblog.yelp.com/2014/10/using-moe-the-metric-optimization-engine-to-optimize-an-ab-testing-experiment-framework.html">http://engineeringblog.yelp.com/2014/10/using-moe-the-metric-optimization-engine-to-optimize-an-ab-testing-experiment-framework.html</a></p>
<dl class="data">
<dt id="moe_examples.blog_post_example_ab_testing.COVARIANCE_INFO">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">COVARIANCE_INFO</tt><em class="property"> = {'hyperparameters': [0.3, 0.1]}</em><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.COVARIANCE_INFO" title="Permalink to this definition">¶</a></dt>
<dd><p>Set as a constant for clarity of example, see mod:<cite>moe_examples.combined_example</cite> for hyperparameter updating</p>
</dd></dl>

<dl class="data">
<dt id="moe_examples.blog_post_example_ab_testing.EPSILON_BANDIT_PARAMETER">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">EPSILON_BANDIT_PARAMETER</tt><em class="property"> = 0.15</em><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.EPSILON_BANDIT_PARAMETER" title="Permalink to this definition">¶</a></dt>
<dd><p>Our bandit policy <a class="reference internal" href="moe.bandit.epsilon.html#module-moe.bandit.epsilon.epsilon_greedy" title="moe.bandit.epsilon.epsilon_greedy"><tt class="xref py py-mod docutils literal"><span class="pre">moe.bandit.epsilon.epsilon_greedy</span></tt></a> requires an epsilon parameter
This is the fraction of allocations that will only explore, the rest will only exploit</p>
</dd></dl>

<dl class="data">
<dt id="moe_examples.blog_post_example_ab_testing.EXPERIMENT_DOMAIN">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">EXPERIMENT_DOMAIN</tt><em class="property"> = [[0.0, 1.0]]</em><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.EXPERIMENT_DOMAIN" title="Permalink to this definition">¶</a></dt>
<dd><p>domain over which our parameter <tt class="docutils literal"><span class="pre">x</span></tt> can vary in optimizing <tt class="docutils literal"><span class="pre">CTR(x)</span></tt></p>
</dd></dl>

<dl class="data">
<dt id="moe_examples.blog_post_example_ab_testing.EXPERIMENT_ITERATIONS">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">EXPERIMENT_ITERATIONS</tt><em class="property"> = 5</em><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.EXPERIMENT_ITERATIONS" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of times to have MOE update cohorts</p>
</dd></dl>

<dl class="data">
<dt id="moe_examples.blog_post_example_ab_testing.GLOBAL_OPTIMAL_PARAMETER">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">GLOBAL_OPTIMAL_PARAMETER</tt><em class="property"> = array([ 0.71428711])</em><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.GLOBAL_OPTIMAL_PARAMETER" title="Permalink to this definition">¶</a></dt>
<dd><p>Global optima of CTR function</p>
</dd></dl>

<dl class="data">
<dt id="moe_examples.blog_post_example_ab_testing.LOCAL_OPTIMAL_PARAMETER">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">LOCAL_OPTIMAL_PARAMETER</tt><em class="property"> = array([ 0.14289063])</em><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.LOCAL_OPTIMAL_PARAMETER" title="Permalink to this definition">¶</a></dt>
<dd><p>Local optima of CTR function</p>
</dd></dl>

<dl class="data">
<dt id="moe_examples.blog_post_example_ab_testing.NUMBER_OF_ACTIVE_COHORTS">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">NUMBER_OF_ACTIVE_COHORTS</tt><em class="property"> = 3</em><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.NUMBER_OF_ACTIVE_COHORTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of parameters to simulate each day</p>
</dd></dl>

<dl class="data">
<dt id="moe_examples.blog_post_example_ab_testing.STATUS_QUO_PARAMETER">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">STATUS_QUO_PARAMETER</tt><em class="property"> = array([ 0.2])</em><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.STATUS_QUO_PARAMETER" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial parameter value</p>
</dd></dl>

<dl class="data">
<dt id="moe_examples.blog_post_example_ab_testing.TRAFFIC_PER_DAY">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">TRAFFIC_PER_DAY</tt><em class="property"> = 1000000</em><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.TRAFFIC_PER_DAY" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulated traffic volume</p>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.bernoulli_mean_and_var">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">bernoulli_mean_and_var</tt><big>(</big><em>observed_clicks</em>, <em>samples</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#bernoulli_mean_and_var"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.bernoulli_mean_and_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the mean and variance of a Bernoulli Distribution with a given number of successes (clicks) and trials (impressions).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>observed_clicks</strong> (<em>int &gt;= 0</em>) &#8211; number of successes aka clicks</li>
<li><strong>samples</strong> &#8211; number of trials aka impressions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(mean, variance) of the Bernoulli Distribution producing the observed clicks/samples</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.calculate_system_ctr">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">calculate_system_ctr</tt><big>(</big><em>arms</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#calculate_system_ctr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.calculate_system_ctr" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average CTR for the entire system, given a set of arms.</p>
<p>This is different than :func:~`moe_examples.blog_post_example_ab_testing.objective_function`
which computes observed mean and variance for a single arm.
This function is a summary statistic for the entire experiment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arms</strong> (list of <a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a>) &#8211; arms currently being evaluated in the system</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">calculated system-wide CTR</td>
</tr>
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.find_new_points_to_sample">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">find_new_points_to_sample</tt><big>(</big><em>experiment</em>, <em>num_points=1</em>, <em>verbose=False</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#find_new_points_to_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.find_new_points_to_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the optimal next point(s) to sample using expected improvement (via MOE).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>experiment</strong> (<a class="reference internal" href="moe.easy_interface.html#moe.easy_interface.experiment.Experiment" title="moe.easy_interface.experiment.Experiment"><tt class="xref py py-class docutils literal"><span class="pre">moe.easy_interface.experiment.Experiment</span></tt></a>) &#8211; an Experiment object containing the historical data and metadata MOE
needs to optimize</li>
<li><strong>num_points</strong> (<em>int &gt;= 1</em>) &#8211; number of new points (experiments) that we want MOE to suggest</li>
<li><strong>verbose</strong> (<em>bool</em>) &#8211; whether to print status messages to stdout</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the next point(s) to sample</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of length <tt class="docutils literal"><span class="pre">num_points</span></tt> of coordinates (list of length <tt class="docutils literal"><span class="pre">dim</span></tt>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.generate_initial_traffic">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">generate_initial_traffic</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#generate_initial_traffic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.generate_initial_traffic" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate initial traffic allocations.</p>
<p><tt class="docutils literal"><span class="pre">active_arms</span></tt>: list of coordinate-tuples corresponding to arms/cohorts currently being sampled</p>
<p><tt class="docutils literal"><span class="pre">sample_arms</span></tt>: all arms from prev and current cohorts, keyed by coordinate-tuples.</p>
<p>Arm refers specifically to a <a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(active_arms, sample_arms) tuple as described above</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.generate_new_arms">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">generate_new_arms</tt><big>(</big><em>active_arms</em>, <em>sample_arms</em>, <em>verbose=False</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#generate_new_arms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.generate_new_arms" title="Permalink to this definition">¶</a></dt>
<dd><p>Find optimal new parameters to sample to get <tt class="docutils literal"><span class="pre">active_arms</span></tt> up to <tt class="docutils literal"><span class="pre">NUMBER_OF_ACTIVE_COHORTS</span></tt>.</p>
<dl class="docutils">
<dt>This is done in the following way:</dt>
<dd><ol class="first last arabic simple">
<li>Find the initial allocations of all active parameters</li>
<li>MOE suggests new, optimal arms/parameters to sample, given all previous samples, using Bayesian Global Optimization</li>
<li>The new parameters are allocated traffic according to a Multi-Armed Bandit policy for all <tt class="docutils literal"><span class="pre">active_arms</span></tt></li>
<li>If the objective function for a given parameter is too low (with high statistical significance), it is turned off</li>
<li>Steps 2-4 are repeated until there are <tt class="docutils literal"><span class="pre">NUMBER_OF_ACTIVE_COHORTS</span></tt> parameters being sampled with non-zero traffic</li>
</ol>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>active_arms</strong> (<em>list of tuple</em>) &#8211; list of coordinate-tuples corresponding to arms/cohorts currently being sampled</li>
<li><strong>sample_arms</strong> (<em>dict</em>) &#8211; all arms from prev and current cohorts, keyed by coordinate-tuples
Arm refers specifically to a <a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a></li>
<li><strong>verbose</strong> (<em>bool</em>) &#8211; whether to print status messages to stdout</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>(allocations, active_arms, sample_arms) describing the next round of experiments to run</p>
<p><tt class="docutils literal"><span class="pre">allocations</span></tt>: dict of traffic allocations, indexed by the <tt class="docutils literal"><span class="pre">active_arms</span></tt> return value</p>
<p><tt class="docutils literal"><span class="pre">active_arms</span></tt>: new active arms to run in the next round of our experiment; same format as the input</p>
<p><tt class="docutils literal"><span class="pre">sample_arms</span></tt>: the sample arms input updated with the newly generated active arms; same format as the input</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.get_allocations">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">get_allocations</tt><big>(</big><em>active_arms</em>, <em>sample_arms</em>, <em>verbose=False</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#get_allocations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.get_allocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the allocation for each of <tt class="docutils literal"><span class="pre">active_arms</span></tt> using the epsilon greedy multi-armed bandit strategy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>active_arms</strong> (<em>list of tuple</em>) &#8211; list of coordinate-tuples corresponding to arms/cohorts currently being sampled</li>
<li><strong>sample_arms</strong> (<em>dict</em>) &#8211; all arms from prev and current cohorts, keyed by coordinate-tuples
Arm refers specifically to a <a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a></li>
<li><strong>verbose</strong> (<em>bool</em>) &#8211; whether to print status messages to stdout</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">traffic allocations for the <tt class="docutils literal"><span class="pre">active_arms</span></tt>, one for each tuple in <tt class="docutils literal"><span class="pre">active_arms</span></tt></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.moe_experiment_from_sample_arms">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">moe_experiment_from_sample_arms</tt><big>(</big><em>sample_arms</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#moe_experiment_from_sample_arms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.moe_experiment_from_sample_arms" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a MOE experiment with all historical data (i.e., parameter value, CTR, noise variance triples).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sample_arms</strong> (<em>dict</em>) &#8211; all arms from prev and current cohorts, keyed by coordinate-tuples
Arm refers specifically to a <a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">MOE Experiment object usable with GP endpoints like <tt class="docutils literal"><span class="pre">gp_mean_var</span></tt> and <tt class="docutils literal"><span class="pre">gp_next_points</span></tt></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="moe.easy_interface.html#moe.easy_interface.experiment.Experiment" title="moe.easy_interface.experiment.Experiment"><tt class="xref py py-class docutils literal"><span class="pre">moe.easy_interface.experiment.Experiment</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.objective_function">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">objective_function</tt><big>(</big><em>observed_sample_arm</em>, <em>observed_status_quo_sample_arm</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#objective_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.objective_function" title="Permalink to this definition">¶</a></dt>
<dd><p>The observed objective function MOE is attempting to maximize; returns the mean (relative to status quo) and variance.</p>
<p>Lower values are better (minimization). Our objective is relative to the CTR of the initial
parameter value, <tt class="docutils literal"><span class="pre">STATUS_QUO_PARAMETER</span></tt>.</p>
<div class="math">
\[\Phi(\vec{x}) = \frac{\mathtt{CTR}(\vec{x})}{\mathtt{CTR}(\vec{SQ})}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>observed_sample_arm</strong> (<a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a>) &#8211; a bandit arm corresponding to the cohort
currently behing evaluated; i.e., the cohort whose objective we want</li>
<li><strong>observed_status_quo_sample_arm</strong> (<a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a>) &#8211; the bandit arm containing the data for the
status quo cohort. The objective is defined relative to status quo.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(relative CTR, variance) <em>observed</em> mean and variance of the objective function</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.plot_sample_arms">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">plot_sample_arms</tt><big>(</big><em>active_arms</em>, <em>sample_arms</em>, <em>iteration_number</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#plot_sample_arms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.plot_sample_arms" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the underlying Gaussian Process, showing samples, GP mean/variance, and the true CTR.</p>
<p>Plot is written to <tt class="docutils literal"><span class="pre">ab_plot_%.2d.pdf</span></tt> where <tt class="docutils literal"><span class="pre">%.2d</span></tt> is the two-digit <tt class="docutils literal"><span class="pre">iteration_number</span></tt>.
This makes it convenient to sequence the plots later for animation.</p>
<p>The shows the current state of the Gaussian Process. Arms currently being sampled are highlighted
with red Xs and previous arms are marked with blue Xs. The GP mean line is drawn and the variance
region is shaded. The true CTR curve (that the GP approximates) is also shown.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>active_arms</strong> (<em>list of tuple</em>) &#8211; list of coordinate-tuples corresponding to arms/cohorts currently being sampled</li>
<li><strong>sample_arms</strong> (<em>dict</em>) &#8211; all arms from prev and current cohorts, keyed by coordinate-tuples
Arm refers specifically to a <a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a></li>
<li><strong>iteration_number</strong> (<em>int &gt;= 0</em>) &#8211; the index of the current iteration/round being tested in our experiment</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.plot_system_ctr">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">plot_system_ctr</tt><big>(</big><em>system_ctr</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#plot_system_ctr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.plot_system_ctr" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the system ctr time series and write it to <tt class="docutils literal"><span class="pre">ctr_plot.pdf</span></tt>.</p>
<p>Time is &#8220;fake&#8221; so we index it 0, 1, .. len(system_ctr) - 1; i.e.,
time is just iteration/round number in our experiment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>system_ctr</strong> (<em>list of float</em>) &#8211; ctr values to plot, ordered by &#8220;time&#8221;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.prune_arms">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">prune_arms</tt><big>(</big><em>active_arms</em>, <em>sample_arms</em>, <em>verbose=False</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#prune_arms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.prune_arms" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all arms from <tt class="docutils literal"><span class="pre">active_arms</span></tt> that have an allocation less than two standard deviations below the current best arm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>active_arms</strong> (<em>list of tuple</em>) &#8211; list of coordinate-tuples corresponding to arms/cohorts currently being sampled</li>
<li><strong>sample_arms</strong> (<em>dict</em>) &#8211; all arms from prev and current cohorts, keyed by coordinate-tuples
Arm refers specifically to a <a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a></li>
<li><strong>verbose</strong> (<em>bool</em>) &#8211; whether to print status messages to stdout</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of coordinate-tuples that are the <em>well-performing</em> members of <tt class="docutils literal"><span class="pre">active_arms</span></tt>
length is at least 1 and at most <tt class="docutils literal"><span class="pre">len(active_arms)</span></tt></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.run_example">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">run_example</tt><big>(</big><em>verbose=False</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#run_example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.run_example" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the example experiment framework.</p>
<dl class="docutils">
<dt>This is done in the following way:</dt>
<dd><ol class="first last arabic">
<li><p class="first">Generate initial data</p>
</li>
<li><dl class="first docutils">
<dt>Run the experiment <tt class="docutils literal"><span class="pre">EXPERIMENT_ITERATIONS</span></tt> times</dt>
<dd><ol class="first last loweralpha simple">
<li>Removing underperforming arms/parameters</li>
<li>Generate new parameters to sample (aka new arms to replace those removed)</li>
<li>Sample the new arms/parameters</li>
<li>Plot the updated GP from the new parameters</li>
<li>Repeat</li>
</ol>
</dd>
</dl>
</li>
<li><p class="first">Plot out summary metrics</p>
</li>
</ol>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Below, <tt class="docutils literal"><span class="pre">active_arms</span></tt> is a list of tuples. The tuples are the coordinates of the point
represented by <tt class="docutils literal"><span class="pre">active_arms</span></tt>. This is so that members of <tt class="docutils literal"><span class="pre">active_arms</span></tt> can be used
as keys. In turn, <tt class="docutils literal"><span class="pre">sample_arms</span></tt> is a dict keyed on those same coordinate tuples.
The tuples make it convenient to switch between serializable types and lists/arrays.</p>
<p class="last">In practice, users would likely give their cohorts str names. These names could key
both <tt class="docutils literal"><span class="pre">active_arms</span></tt> (which becomes a dict mapping name to coordinates) and
<tt class="docutils literal"><span class="pre">sample_arms</span></tt>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>verbose</strong> (<em>bool</em>) &#8211; whether to print status messages to stdout</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.run_time_consuming_experiment">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">run_time_consuming_experiment</tt><big>(</big><em>allocations</em>, <em>sample_arms</em>, <em>verbose=False</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#run_time_consuming_experiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.run_time_consuming_experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the time consuming or expensive experiment.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Obtaining the value of the objective function is assmumed to be either time consuming or expensive,
where every evaluation is precious and we want to find the optimal set of parameters with as few calls as possible.</p>
</div>
<p>This experiment runs a simulation of user traffic over various parameters and users.
It simulates an A/B testing experiment framework.</p>
<p>For each arm/cohort, we compute the true CTR. From bandits, we know the allocation of
traffic for that arm. So the simulation involves running (TRAFFIC_PER_DAY * allocation)
Bernoulli trials each with probability = true CTR. Then since we cannot know the true CTR,
we only work with the observed CTR and variance (as computed in
:func:~`moe_examples.blog_post_example_ab_testing.objective_function`).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>allocations</strong> (<em>dict</em>) &#8211; traffic allocations for the <tt class="docutils literal"><span class="pre">active_arms</span></tt>, one for each tuple in <tt class="docutils literal"><span class="pre">active_arms</span></tt>.
These are the cohorts for the experiment round&#8211;the parameters being tested and on what portion of traffic.</li>
<li><strong>sample_arms</strong> (<em>dict</em>) &#8211; all arms from prev and current cohorts, keyed by coordinate-tuples
Arm refers specifically to a <a class="reference internal" href="moe.bandit.html#moe.bandit.data_containers.SampleArm" title="moe.bandit.data_containers.SampleArm"><tt class="xref py py-class docutils literal"><span class="pre">moe.bandit.data_containers.SampleArm</span></tt></a></li>
<li><strong>verbose</strong> (<em>bool</em>) &#8211; whether to print status messages to stdout</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="moe_examples.blog_post_example_ab_testing.true_click_through_rate">
<tt class="descclassname">moe_examples.blog_post_example_ab_testing.</tt><tt class="descname">true_click_through_rate</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="_modules/moe_examples/blog_post_example_ab_testing.html#true_click_through_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.blog_post_example_ab_testing.true_click_through_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <em>true</em> underlying Click Through Rate (CTR) with respect to the parameter <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
<p>Higher values are better. There is an local optima at <tt class="docutils literal"><span class="pre">LOCAL_OPTIMAL_PARAMETER</span></tt> (0.14289063) and a global optima at <tt class="docutils literal"><span class="pre">GLOBAL_OPTIMAL_PARAMETER</span></tt> (0.71428711).</p>
<div class="math">
\[\begin{split}\texttt{CTR}(x) = \begin{cases}
        \frac{1}{100}\left( \sin\left( \frac{7\pi}{2} x\right) + 2.5\right) &amp; x \leq 0.6 \\
        \frac{1}{100}\left( \sin\left( \frac{7\pi}{2} x\right) + 1.1\right) &amp; x &gt; 0.6
    \end{cases}\end{split}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> (<em>array of float64 with shape (1, )</em>) &#8211; The parameter that we are optimizing</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">CTR evaluated at <tt class="docutils literal"><span class="pre">x</span></tt></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array of float64 with shape (1, )</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-moe_examples.combined_example">
<span id="moe-examples-combined-example-module"></span><h2>moe_examples.combined_example module<a class="headerlink" href="#module-moe_examples.combined_example" title="Permalink to this headline">¶</a></h2>
<p>An example for accessing the all the functions in moe/easy_interface/simple_endpoint.</p>
<p>The following functions are used:</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference internal" href="moe.easy_interface.html#moe.easy_interface.simple_endpoint.gp_next_points" title="moe.easy_interface.simple_endpoint.gp_next_points"><tt class="xref py py-func docutils literal"><span class="pre">moe.easy_interface.simple_endpoint.gp_next_points()</span></tt></a></li>
<li><a class="reference internal" href="moe.easy_interface.html#moe.easy_interface.simple_endpoint.gp_hyper_opt" title="moe.easy_interface.simple_endpoint.gp_hyper_opt"><tt class="xref py py-func docutils literal"><span class="pre">moe.easy_interface.simple_endpoint.gp_hyper_opt()</span></tt></a></li>
<li><a class="reference internal" href="moe.easy_interface.html#moe.easy_interface.simple_endpoint.gp_mean_var" title="moe.easy_interface.simple_endpoint.gp_mean_var"><tt class="xref py py-func docutils literal"><span class="pre">moe.easy_interface.simple_endpoint.gp_mean_var()</span></tt></a></li>
</ol>
</div></blockquote>
<p>The function requires some historical information to inform the Gaussian Process
we use an arbitrary function (with noise) function_to_minimize</p>
<p>We first sample [0,0] from the function and then generate and sample 5 optimal points from moe sequentially
We then update the hyperparameters of the GP (model selection)
This process is repeated until we have sampled 20 points in total
We then calculate the posterior mean and variance of the GP at several points</p>
<dl class="function">
<dt id="moe_examples.combined_example.function_to_minimize">
<tt class="descclassname">moe_examples.combined_example.</tt><tt class="descname">function_to_minimize</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="_modules/moe_examples/combined_example.html#function_to_minimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.combined_example.function_to_minimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate an aribitrary 2-d function with some noise.</p>
<p>This function has a minimum near [1, 2.6].</p>
</dd></dl>

<dl class="function">
<dt id="moe_examples.combined_example.run_example">
<tt class="descclassname">moe_examples.combined_example.</tt><tt class="descname">run_example</tt><big>(</big><em>num_to_sample=20</em>, <em>verbose=True</em>, <em>testapp=None</em>, <em>gp_next_points_kwargs=None</em>, <em>gp_hyper_opt_kwargs=None</em>, <em>gp_mean_var_kwargs=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/moe_examples/combined_example.html#run_example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.combined_example.run_example" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the combined example.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_to_sample</strong> (<em>int &gt; 0</em>) &#8211; Number of points for MOE to suggest and then sample [20]</li>
<li><strong>verbose</strong> (<em>bool</em>) &#8211; Whether to print information to the screen [True]</li>
<li><strong>testapp</strong> (<em>Pyramid test application</em>) &#8211; Whether to use a supplied test pyramid application or a rest server [None]</li>
<li><strong>gp_next_points_kwargs</strong> (<em>dict</em>) &#8211; Optional kwargs to pass to gp_next_points endpoint</li>
<li><strong>gp_hyper_opt_kwargs</strong> (<em>dict</em>) &#8211; Optional kwargs to pass to gp_hyper_opt_kwargs endpoint</li>
<li><strong>gp_mean_var_kwargs</strong> (<em>dict</em>) &#8211; Optional kwargs to pass to gp_mean_var_kwargs endpoint</li>
<li><strong>kwargs</strong> (<em>dict</em>) &#8211; Optional kwargs to pass to all endpoints</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-moe_examples.hyper_opt_of_gp_from_historical_data">
<span id="moe-examples-hyper-opt-of-gp-from-historical-data-module"></span><h2>moe_examples.hyper_opt_of_gp_from_historical_data module<a class="headerlink" href="#module-moe_examples.hyper_opt_of_gp_from_historical_data" title="Permalink to this headline">¶</a></h2>
<p>An example for accessing the gp_mean_var simple endpoint.</p>
<p><a class="reference internal" href="moe.easy_interface.html#moe.easy_interface.simple_endpoint.gp_mean_var" title="moe.easy_interface.simple_endpoint.gp_mean_var"><tt class="xref py py-func docutils literal"><span class="pre">moe.easy_interface.simple_endpoint.gp_mean_var()</span></tt></a></p>
<p>The function requires some historical information to inform the Gaussian Process</p>
<p>The optimal hyperparameters are returned.</p>
<dl class="function">
<dt id="moe_examples.hyper_opt_of_gp_from_historical_data.run_example">
<tt class="descclassname">moe_examples.hyper_opt_of_gp_from_historical_data.</tt><tt class="descname">run_example</tt><big>(</big><em>verbose=True</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/moe_examples/hyper_opt_of_gp_from_historical_data.html#run_example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.hyper_opt_of_gp_from_historical_data.run_example" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the example, aksing MOE for optimal hyperparameters given historical data.</p>
</dd></dl>

</div>
<div class="section" id="module-moe_examples.mean_and_var_of_gp_from_historic_data">
<span id="moe-examples-mean-and-var-of-gp-from-historic-data-module"></span><h2>moe_examples.mean_and_var_of_gp_from_historic_data module<a class="headerlink" href="#module-moe_examples.mean_and_var_of_gp_from_historic_data" title="Permalink to this headline">¶</a></h2>
<p>An example for accessing the gp_mean_var simple endpoint.</p>
<p><a class="reference internal" href="moe.easy_interface.html#moe.easy_interface.simple_endpoint.gp_mean_var" title="moe.easy_interface.simple_endpoint.gp_mean_var"><tt class="xref py py-func docutils literal"><span class="pre">moe.easy_interface.simple_endpoint.gp_mean_var()</span></tt></a></p>
<p>The function requires some historical information to inform the Gaussian Process
and a set of points to calculate the posterior mean and variance at.</p>
<p>The posterior mean and variance is then printed for every point.</p>
<dl class="function">
<dt id="moe_examples.mean_and_var_of_gp_from_historic_data.run_example">
<tt class="descclassname">moe_examples.mean_and_var_of_gp_from_historic_data.</tt><tt class="descname">run_example</tt><big>(</big><em>verbose=True</em>, <em>testapp=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/moe_examples/mean_and_var_of_gp_from_historic_data.html#run_example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.mean_and_var_of_gp_from_historic_data.run_example" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the example, finding the posterior mean and variance for various poinst from a random GP.</p>
</dd></dl>

</div>
<div class="section" id="module-moe_examples.next_point_via_simple_endpoint">
<span id="moe-examples-next-point-via-simple-endpoint-module"></span><h2>moe_examples.next_point_via_simple_endpoint module<a class="headerlink" href="#module-moe_examples.next_point_via_simple_endpoint" title="Permalink to this headline">¶</a></h2>
<p>An example for accessing the gp_next_points_* endpoints.</p>
<p><a class="reference internal" href="moe.easy_interface.html#moe.easy_interface.simple_endpoint.gp_next_points" title="moe.easy_interface.simple_endpoint.gp_next_points"><tt class="xref py py-func docutils literal"><span class="pre">moe.easy_interface.simple_endpoint.gp_next_points()</span></tt></a></p>
<p>The function requires some historical information to inform the Gaussian Process</p>
<p>The result is the next best set of point(s) to sample</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This file is copied in <tt class="docutils literal"><span class="pre">README.md</span></tt> and <tt class="docutils literal"><span class="pre">docs/index.rst</span></tt>. Any changes here should be made there as well.</p>
</div>
<dl class="function">
<dt id="moe_examples.next_point_via_simple_endpoint.function_to_minimize">
<tt class="descclassname">moe_examples.next_point_via_simple_endpoint.</tt><tt class="descname">function_to_minimize</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="_modules/moe_examples/next_point_via_simple_endpoint.html#function_to_minimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.next_point_via_simple_endpoint.function_to_minimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate an aribitrary 2-d function with some noise with minimum near [1, 2.6].</p>
</dd></dl>

<dl class="function">
<dt id="moe_examples.next_point_via_simple_endpoint.run_example">
<tt class="descclassname">moe_examples.next_point_via_simple_endpoint.</tt><tt class="descname">run_example</tt><big>(</big><em>num_points_to_sample=20</em>, <em>verbose=True</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/moe_examples/next_point_via_simple_endpoint.html#run_example"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#moe_examples.next_point_via_simple_endpoint.run_example" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the example, aksing MOE for <tt class="docutils literal"><span class="pre">num_points_to_sample</span></tt> optimal points to sample.</p>
</dd></dl>

</div>
<div class="section" id="module-moe_examples">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-moe_examples" title="Permalink to this headline">¶</a></h2>
<p>Examples for using the moe package.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="moe_examples.tests.html" class="btn btn-neutral float-right" title="moe_examples.tests package"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="moe.views.schemas.rest.html" class="btn btn-neutral" title="moe.views.schemas.rest package"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2014 Yelp. MOE is licensed under the Apache License, Version 2.0: http://www.apache.org/licenses/LICENSE-2.0.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>