

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gpp_linear_algebra_test &mdash; MOE 0.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
  
    <link rel="top" title="MOE 0.1.0 documentation" href="index.html"/>
        <link rel="up" title="C++ Files" href="cpp_tree.html"/>
        <link rel="next" title="gpp_core" href="gpp_core.html"/>
        <link rel="prev" title="gpp_heuristic_expected_improvement_optimization_test" href="gpp_heuristic_expected_improvement_optimization_test.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> MOE</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="why_moe.html">Why Do We Need MOE?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="why_moe.html#what-is-moe">What is MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="why_moe.html#why-is-this-hard">Why is this hard?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-in-docker">Install in docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-from-source">Install from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#osx-tips-10-8-for-10-9-see-separate-instructions-below">OSX Tips (&lt;=10.8. For 10.9, see separate instructions below)</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#building-boost">Building Boost</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#linux-tips">Linux Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="objective_functions.html">Objective Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#what-is-an-objective-function">What is an objective function?</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#properties-of-an-objective-function">Properties of an objective function</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#id1"><span class="math">\(\Phi\)</span> Objective Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#example-of-objective-functions">Example of Objective Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#minimizing-an-arbitrary-function">Minimizing an arbitrary function</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#gaussian-process-regression-given-historical-data">Gaussian Process regression given historical data</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#hyperparameter-optimization-of-a-gaussian-process">Hyperparameter optimization of a Gaussian Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#all-above-examples-combined">All above examples combined</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#setting-thresholds-for-advertising-units">Setting thresholds for advertising units</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#making-a-pull-request">Making a pull request</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#style">Style</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="moe.html">moe package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe.resources">moe.resources module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe">Module contents</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="cpp_tree.html">C++ Files</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization_test.html">gpp_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain_test.html">gpp_domain_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_exception.html">gpp_exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry.html">gpp_geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization.html">gpp_heuristic_expected_improvement_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra-inl.html">gpp_linear_algebra-inl</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils.html">gpp_test_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_logging.html">gpp_logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance.html">gpp_covariance</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_test.html">gpp_python_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain.html">gpp_domain</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_common.html">gpp_python_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyperparameter_optimization_demo.html">gpp_hyperparameter_optimization_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils_test.html">gpp_test_utils_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math_test.html">gpp_math_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_expected_improvement.html">gpp_python_expected_improvement</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_model_selection.html">gpp_python_model_selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math.html">gpp_math</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random_test.html">gpp_random_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_expected_improvement_demo.html">gpp_expected_improvement_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random.html">gpp_random</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry_test.html">gpp_geometry_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra.html">gpp_linear_algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization_test.html">gpp_heuristic_expected_improvement_optimization_test</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">gpp_linear_algebra_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_core.html">gpp_core</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization.html">gpp_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance_test.html">gpp_covariance_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_gaussian_process.html">gpp_python_gaussian_process</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_mock_optimization_objective_functions.html">gpp_mock_optimization_objective_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python.html">gpp_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection_and_hyperparameter_optimization.html">gpp_model_selection_and_hyperparameter_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyper_and_EI_demo.html">gpp_hyper_and_EI_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization_parameters.html">gpp_optimization_parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_common.html">gpp_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection_and_hyperparameter_optimization_test.html">gpp_model_selection_and_hyperparameter_optimization_test</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">MOE</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="cpp_tree.html">C++ Files</a> &raquo;</li>
      
    <li>gpp_linear_algebra_test</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/gpp_linear_algebra_test.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="gpp-linear-algebra-test">
<h1>gpp_linear_algebra_test<a class="headerlink" href="#gpp-linear-algebra-test" title="Permalink to this headline">¶</a></h1>
<p><strong>Contents:</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference internal" href="#gpp-linear-algebra-test-hpp">gpp_linear_algebra_test.hpp</a></li>
<li><a class="reference internal" href="#gpp-linear-algebra-test-cpp">gpp_linear_algebra_test.cpp</a></li>
</ol>
</div></blockquote>
<div class="section" id="gpp-linear-algebra-test-hpp">
<h2>gpp_linear_algebra_test.hpp<a class="headerlink" href="#gpp-linear-algebra-test-hpp" title="Permalink to this headline">¶</a></h2>
<p></p>
<p><p>Functions for testing gpp_linear_algebra and supporting utilities.</p>
<p>Includes Build* functions that build matrices with various properties.  For example,
* Well-conditioned SPD matrices
* Orthogonal matrices
* Ill-conditioned SPD</p>
<p>and so forth. These are in turn used as test inputs for the linear algebra routines.</p>
<p>The linear algebra tests are all called through RunLinearAlgebraTests(); these generally involve tests like checking
against hand-verified examples, verifying special matrix properties, testing special cases against general cases,
and verifying analytic mathematical bounds on residual/error.</p>
 </p>
<p><p id="project0namespaceoptimal__learning"><em>namespace</em> <strong>optimal_learning</strong></p>
<blockquote>
<div><p></p>
<p></p>
<em>Variables</em><blockquote>
<div><p><span class="target" id="project0namespaceoptimal__learning_1abe251fe2c8a07bba3faddafcdd46919d"></span>constexpr double <strong>kProlateDefaultParameter</strong></p>
<blockquote>
<div><p></p>
<p><p>Builds the &#8220;Prolate&#8221; matrix.  This is a generally ill-conditioned, symmetric matrix.  With the default parameter,
the condition number is about <tt class="docutils literal"><span class="pre">10^(n/2)</span></tt>; e.g., with n=10, the condition number is <tt class="docutils literal"><span class="pre">1.84</span> <span class="pre">x</span> <span class="pre">10^6</span></tt>.</p>
<p>This matrix is also Toeplitz (constant along diagonals).</p>
<p>For <tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;</span> <span class="pre">alpha</span> <span class="pre">&lt;=</span> <span class="pre">0.5</span></tt>, the prolate matrix is SPD.  At <tt class="docutils literal"><span class="pre">alpha</span> <span class="pre">=</span> <span class="pre">0</span></tt>, it is singular; at <tt class="docutils literal"><span class="pre">alpha</span> <span class="pre">=</span> <span class="pre">0.5</span></tt>, it is the identity.</p>
<p>This matches the result of:
<tt class="docutils literal"><span class="pre">gallery('prolate',</span> <span class="pre">size,</span> <span class="pre">alpha)</span></tt> in MATLAB.  As in MATLAB, the default parameter is 0.25.
See implementation for matrix definition.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">alpha:</th><td class="field-body">prolate parameter</td>
</tr>
<tr class="field-even field"><th class="field-name">size:</th><td class="field-body">dimension of prolate matrix</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">prolate_matrix[size][size]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">the prolate matrix with parameter <tt class="docutils literal"><span class="pre">alpha</span></tt>, dimension <tt class="docutils literal"><span class="pre">size</span></tt></td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1a0edf78f19e20758973275ea107816773"></span>constexpr double <strong>kMolerDefaultParameter</strong></p>
<blockquote>
<div><p></p>
<p><p>Builds the &#8220;Moler&#8221; matrix.  This is a generally ill-conditioned, SPD matrix.  Roughly speaking, with
the default parameter, the condition number is about <tt class="docutils literal"><span class="pre">10^(n/2)</span></tt>; e.g., with <tt class="docutils literal"><span class="pre">n=10</span></tt>, the condition number is <tt class="docutils literal"><span class="pre">3.68</span> <span class="pre">x</span> <span class="pre">10^6</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">some parameter choices (near 0) result in near-identity matrices.</p>
</div>
<p>This matrix has generally has small eigenvalue, with the others clustered in a comparatively small
range away from the smallest.</p>
<p>This matches the result of:
<tt class="docutils literal"><span class="pre">gallery('moler',</span> <span class="pre">size,</span> <span class="pre">alpha)</span></tt> in MATLAB.  As in MATLAB, the default parameter is -1.0.
See implementation for matrix definition.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">alpha:</th><td class="field-body">moler matrix parameter</td>
</tr>
<tr class="field-even field"><th class="field-name">size:</th><td class="field-body">dimension of moler matrix</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">moler_matrix[size][size]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">the moler matrix with parameter <tt class="docutils literal"><span class="pre">alpha</span></tt>, dimension <tt class="docutils literal"><span class="pre">size</span></tt></td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</p>
</div>
<div class="section" id="gpp-linear-algebra-test-cpp">
<h2>gpp_linear_algebra_test.cpp<a class="headerlink" href="#gpp-linear-algebra-test-cpp" title="Permalink to this headline">¶</a></h2>
<p></p>
<p><p>Routines to test the functions in gpp_linear_algebra.cpp and gpp_linear_algebra-inl.hpp.</p>
<p>This includes a battery of tests that verify that all of our linear algebra subroutines are working correctly.  These tests
fall into a few categories:</p>
<ol class="arabic simple">
<li>manually verifying a general function (e.g., GeneralMatrixVectorMultiply) and then using that to
verify special cases (e.g., Triangular and Symmetric multiply).</li>
<li>asserting properties of the underlying matrices or operators: e.g., Q*Q^T = I for Q known to be orthogonal, or X*X^-1 = I, etc.</li>
<li>checking correctness against simple, hand-verified cases</li>
<li>checking results against analytically known (usually norm-wise) error bounds, taking conditioning into account over
well- and ill-conditioned inputs</li>
</ol>
<p>These tests live in the functions called through RunLinearAlgebraTests().</p>
<p>This file also has implementations various Build.*() functions, which provide interesting inputs for the linear algebra
testing.  These include various random matrices (random, symmetric, SPD), interesting &#8220;standard&#8221; matrix examples
(prolate, moler, orthogonal symmetric) as well as some matrices with interesting properties resulting from things like
Householder Reflections.  We also have some utilites for data manipulation (e.g., extracting the lower triangle) as well as
routines to manipulate condition number (e.g., adding diagonal dominance).</p>
 </p>
<p><p id="project0namespaceoptimal__learning"><em>namespace</em> <strong>optimal_learning</strong></p>
<blockquote>
<div><p></p>
<p></p>
<em>Functions</em><blockquote>
<div><p><span class="target" id="project0namespaceoptimal__learning_1a3b98ee20c5fb2135132115223f0771aa"></span><div class="line-block">
<div class="line">void <strong>BuildIdentityMatrix</strong>(int size_m, double *restrict matrix)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Utility function to generate a <tt class="docutils literal"><span class="pre">m</span> <span class="pre">x</span> <span class="pre">m</span></tt> identity matrix.
matrix is overwritten.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">size_m:</th><td class="field-body">dimension of matrix</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">matrix[size_m][size_m]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">pointer to space for identity matrix</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">matrix[size_m][size_m]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">identity matrix of order size_m</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1ac98ca176695b6ebf7ee68a8bb42ce7a2"></span><div class="line-block">
<div class="line">void <strong>BuildProlateMatrix</strong>(double alpha, int size, double *restrict prolate_matrix)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p><tt class="docutils literal"><span class="pre">A_{i,j}</span> <span class="pre">=</span> <span class="pre">{</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">\alpha</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">if</span> <span class="pre">i</span> <span class="pre">==</span> <span class="pre">j</span></tt>
``          { sin(2 * pi * alpha * k)/ (pi * k)      otherwise``
where <tt class="docutils literal"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">|i</span> <span class="pre">-</span> <span class="pre">j|</span></tt></p>
 </p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1aa3a7cf3d3a122c33b72635ba029a5625"></span><div class="line-block">
<div class="line">void <strong>BuildMolerMatrix</strong>(double alpha, int size, double *restrict moler_matrix)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p><tt class="docutils literal"><span class="pre">A_{ij}</span> <span class="pre">=</span> <span class="pre">{</span> <span class="pre">i</span> <span class="pre">*</span> <span class="pre">alpha^2</span> <span class="pre">+</span> <span class="pre">1.0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">if</span> <span class="pre">i</span> <span class="pre">==</span> <span class="pre">j</span></tt>
``         { min(i, j) * alpha^2 + alpha     otherwise``</p>
 </p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1aeda50fc887e60f20b089db8b4f7a06ab"></span><div class="line-block">
<div class="line">void <strong>BuildOrthogonalSymmetricMatrix</strong>(int size, double *restrict orthog_symm_matrix)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p><p>Builds a matrix <tt class="docutils literal"><span class="pre">Q</span></tt> s.t. <tt class="docutils literal"><span class="pre">Q</span> <span class="pre">*</span> <span class="pre">Q^T</span> <span class="pre">=</span> <span class="pre">I</span></tt>, <tt class="docutils literal"><span class="pre">Q</span> <span class="pre">=</span> <span class="pre">Q^T</span></tt>, and <tt class="docutils literal"><span class="pre">\|Q*x\|</span> <span class="pre">=</span> <span class="pre">\|x\|</span></tt>.  In particular, <tt class="docutils literal"><span class="pre">Q`</span> <span class="pre">is</span> <span class="pre">(real)</span> <span class="pre">orthogonal</span>
<span class="pre">AND</span> <span class="pre">symmetric.</span>&nbsp; <span class="pre">This</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">the</span> <span class="pre">only</span> <span class="pre">``Q</span></tt> with the given properties.  <tt class="docutils literal"><span class="pre">Q</span></tt> is not SPD.</p>
<p>This is the eigenvector matrix for a n-point second-difference matrix (e.g., discrete hessian).</p>
</p>
<p><p>Builds an orthogonal (unitary) and symmetric matrix (thus involutary):
<tt class="docutils literal"><span class="pre">Q</span> <span class="pre">*</span> <span class="pre">Q^T</span> <span class="pre">=</span> <span class="pre">I</span></tt> and <tt class="docutils literal"><span class="pre">Q</span> <span class="pre">=</span> <span class="pre">Q^T</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">Q</span></tt> is NOT SPD.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">size:</th><td class="field-body">dimension of matrix</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">orthog_symm_matrix[size][size]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">size x size matrix satisfying the above properties</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1ac26995c6e56a2de68c32fa8ac3693e63"></span><div class="line-block">
<div class="line">void <strong>BuildRandomSymmetricMatrix</strong>(int size, double left_bound, double right_bound, <a class="reference internal" href="gpp_random.html#project0structoptimal__learning_1_1_uniform_random_generator"><em>UniformRandomGenerator</em></a>  * uniform_generator, double *restrict symmetric_matrix)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Randomly generates half (diagonal and one triangle) of a matrix and copies those values into the other half.
The result is not guaranteed to have any special properties (e.g., SPD) beyond symmetry.</p>
<p><p>Builds a symmetric matrix with random entries.  Entries are chosen uniformly at random in the range
<tt class="docutils literal"><span class="pre">[left_bound,</span> <span class="pre">right_bound]</span></tt>.</p>
<p>Matrix condition number is generally <tt class="docutils literal"><span class="pre">~</span> <span class="pre">10</span> <span class="pre">*</span> <span class="pre">size</span></tt>.  HOWEVER since this is a <em>random</em> matrix, extremely
poor conditioning is possible (even singular matrices are possible, however unlikely).</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">size:</th><td class="field-body">dimension of matrix</td>
</tr>
<tr class="field-even field"><th class="field-name">left_bound:</th><td class="field-body">lower bound for matrix entries</td>
</tr>
<tr class="field-odd field"><th class="field-name">right_bound:</th><td class="field-body">upper bound for matrix_entries</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a UniformRandomGenerator object providing the random engine for uniform random numbers</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">UniformRandomGenerator object will have its state changed due to random draws</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">symmetric_matrix[size][size]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a random symmetric matrix</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1a8c39c58752c97fe828ccbc3e2a306e00"></span><div class="line-block">
<div class="line">void <strong>BuildRandomLowerTriangularMatrix</strong>(int size, <a class="reference internal" href="gpp_random.html#project0structoptimal__learning_1_1_uniform_random_generator"><em>UniformRandomGenerator</em></a>  * uniform_generator, double *restrict lower_triangular_matrix)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Randomly generates a lower triangular matrix, zeroing the upper triangle.</p>
<p><p>Builds a lower triangular matrix with random entries; <tt class="docutils literal"><span class="pre">entries</span> <span class="pre">\in</span> <span class="pre">[0,1]</span></tt>.  The strict upper triangle is set to 0.</p>
<p>Matrix condition number is generally <tt class="docutils literal"><span class="pre">~</span> <span class="pre">10</span> <span class="pre">*</span> <span class="pre">size</span></tt>.  HOWEVER since this is a <em>random</em> matrix, extremely
poor conditioning is possible (even singular matrices are possible, however unlikely).</p>
<p>Building an SPD matrix by:
<tt class="docutils literal"><span class="pre">A</span> <span class="pre">=</span> <span class="pre">BuildRandomLowerTriangularMatrix</span></tt>
<tt class="docutils literal"><span class="pre">SPD</span> <span class="pre">=</span> <span class="pre">A</span> <span class="pre">*</span> <span class="pre">A^T</span></tt>
usually leads to ill-conditioned SPD matrices because <tt class="docutils literal"><span class="pre">cond(SPD)</span></tt> is <tt class="docutils literal"><span class="pre">cond(A)^2</span></tt>.</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">size:</th><td class="field-body">dimension of matrix</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a UniformRandomGenerator object providing the random engine for uniform random numbers</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">UniformRandomGenerator object will have its state changed due to random draws</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">lower_triangular_matrix[size][size]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a random, lower triangular matrix</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1ae0849425508f643ffe0f0979af8e53c9"></span><div class="line-block">
<div class="line">void <strong>BuildRandomSPDMatrix</strong>(int size, <a class="reference internal" href="gpp_random.html#project0structoptimal__learning_1_1_uniform_random_generator"><em>UniformRandomGenerator</em></a>  * uniform_generator, double *restrict spd_matrix)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>A matrix <tt class="docutils literal"><span class="pre">A</span></tt> is SPD if and only if it can be cholesky-factored: <tt class="docutils literal"><span class="pre">L</span> <span class="pre">*</span> <span class="pre">L^T</span> <span class="pre">=</span> <span class="pre">A</span></tt>.
Generate <tt class="docutils literal"><span class="pre">L</span></tt> randomly and form <tt class="docutils literal"><span class="pre">A</span></tt>.</p>
<p><p>Builds an SPD matrix with random entries; <tt class="docutils literal"><span class="pre">entries</span> <span class="pre">\in</span> <span class="pre">[0,1]</span></tt>.</p>
<p>Matrix condition number is generally <tt class="docutils literal"><span class="pre">100</span> <span class="pre">*</span> <span class="pre">size^2</span></tt> with high variance.  Since this is a random matrix,
extremely poor conditioning is possible (even singular matrices are possible, however unlikely).</p>
<p>Builds SPD matrix by computing <tt class="docutils literal"><span class="pre">L</span> <span class="pre">*</span> <span class="pre">L^T</span></tt>, where <tt class="docutils literal"><span class="pre">L</span></tt> comes from BuildRandomLowerTriangularMatrix().</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">size:</th><td class="field-body">dimension of matrix</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a UniformRandomGenerator object providing the random engine for uniform random numbers</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">UniformRandomGenerator object will have its state changed due to random draws</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">spd_matrix[size][size]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a random, SPD matrix</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1a5b534e4df748c242176386368f7c741c"></span><div class="line-block">
<div class="line">void <strong>BuildHouseholderReflectorMatrix</strong>(double const *restrict vector, int size, double *restrict householder)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>The matrix <tt class="docutils literal"><span class="pre">F</span></tt> (householder) as a function of <tt class="docutils literal"><span class="pre">x</span></tt> (vector) where:
<tt class="docutils literal"><span class="pre">F</span> <span class="pre">=</span> <span class="pre">I</span> <span class="pre">-</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">v*v^T</span></tt>,
where <tt class="docutils literal"><span class="pre">v</span> <span class="pre">=</span> <span class="pre">w</span> <span class="pre">/</span> <span class="pre">||w||_2</span></tt>,
and   <tt class="docutils literal"><span class="pre">w</span> <span class="pre">=</span> <span class="pre">sign(x[0])</span> <span class="pre">*</span> <span class="pre">\|x\|_2</span> <span class="pre">*</span> <span class="pre">e_0</span> <span class="pre">+</span> <span class="pre">x</span></tt>  (<tt class="docutils literal"><span class="pre">e_0</span></tt> is the cartesian unit vector, <tt class="docutils literal"><span class="pre">[1;</span> <span class="pre">zeros(n-1,1)]</span></tt>)</p>
<p><p>Generates matrix <tt class="docutils literal"><span class="pre">F</span></tt> (as a function of <tt class="docutils literal"><span class="pre">x</span></tt>) such that
<tt class="docutils literal"><span class="pre">F</span> <span class="pre">*</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">[</span> <span class="pre">||x||_2;</span> <span class="pre">zeros(n-1,1)</span> <span class="pre">]</span></tt>
<tt class="docutils literal"><span class="pre">F</span></tt> is orthogonal (unitary).  <tt class="docutils literal"><span class="pre">F</span></tt> is symmetric but never SPD.</p>
<p>See implementation for the definition of <tt class="docutils literal"><span class="pre">F</span></tt>.</p>
<p>The eigenvalues of <tt class="docutils literal"><span class="pre">F</span></tt> are <tt class="docutils literal"><span class="pre">+/-</span> <span class="pre">1</span></tt>; 1 has multiplicity <tt class="docutils literal"><span class="pre">n-1</span></tt>, -1 has multiplicity 1 (hence not SPD).</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">vector[size]:</th><td class="field-body">vector x used to construct F so that F * x = ||x||_2 * e_0</td>
</tr>
<tr class="field-even field"><th class="field-name">size:</th><td class="field-body">dimension of matrix, vector</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">householder[size][size]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">householder matrix, F</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1acc1b11ee35f110160fe32b0b6096b7b6"></span><div class="line-block">
<div class="line">void <strong>BuildRandomVector</strong>(int size, double left_bound, double right_bound, <a class="reference internal" href="gpp_random.html#project0structoptimal__learning_1_1_uniform_random_generator"><em>UniformRandomGenerator</em></a>  * uniform_generator, double *restrict vector)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Builds a vector with random entries.  <tt class="docutils literal"><span class="pre">Entries</span> <span class="pre">\in</span> <span class="pre">[left_bound,</span> <span class="pre">right_bound]</span></tt>.</p>
<p>A random (non-symmetric) <tt class="docutils literal"><span class="pre">m</span> <span class="pre">X</span> <span class="pre">n</span></tt> matrix can be built too:
<tt class="docutils literal"><span class="pre">BuildRandomVector(m*n,</span> <span class="pre">matrix);</span></tt></p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">size:</th><td class="field-body">number of elements in vector</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">a UniformRandomGenerator object providing the random engine for uniform random numbers</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Outputs</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">uniform_generator[1]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">UniformRandomGenerator object will have its state changed due to random draws</td>
</tr>
<tr class="field-even field"><th class="field-name">vector[size]:</th><td class="field-body">array filled with random entries</td>
</tr>
</tbody>
</table>
</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1a8696f2f21a54ec05f809078f36afc2be"></span><div class="line-block">
<div class="line">bool <strong>CheckMatrixIsSymmetric</strong>(double const *restrict matrix, int size, double tolerance)</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Checks if the input matrix is symmetric to within tolerance.</p>
<p>If the matrix was explicitly constructed to be symmetric (e.g., <tt class="docutils literal"><span class="pre">A_{j,i}</span></tt> copied from <tt class="docutils literal"><span class="pre">A_{i,j}</span></tt>), then
tolerance should be set to 0.0.  Otherwise tolerance should usually be near std::numeric_limits&lt;double&gt;::epsilon().</p>
<dl class="docutils">
<dt><strong>Parameters</strong>:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">matrix[size][size]:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">matrix to check for symmetry</td>
</tr>
<tr class="field-even field"><th class="field-name">size:</th><td class="field-body">dimension of matrix</td>
</tr>
<tr class="field-odd field"><th class="field-name">tolerance:</th><td class="field-body">amount of element-wise non-symmetry allowed</td>
</tr>
</tbody>
</table>
</dd>
<dt><strong>Returns</strong>:</dt>
<dd>true if matrix is symmetric</dd>
</dl>
 </p>
</div></blockquote>
<p><span class="target" id="project0namespaceoptimal__learning_1ad5ce7837e1d7b5f684e03d70586ab1d1"></span><div class="line-block">
<div class="line">int <strong>RunLinearAlgebraTests</strong>()</div>
</div>
</p>
<blockquote>
<div><p></p>
<p><p>Runs a battery of tests on (supporting) linear algebra routines:
* cholesky factorization
* Solving <tt class="docutils literal"><span class="pre">A</span> <span class="pre">*</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">b</span></tt> when <tt class="docutils literal"><span class="pre">A</span></tt> is SPD
* Formation of <tt class="docutils literal"><span class="pre">A^-1</span></tt>
* <tt class="docutils literal"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">A</span> <span class="pre">*</span> <span class="pre">x</span></tt>, general <tt class="docutils literal"><span class="pre">A</span></tt>
* <tt class="docutils literal"><span class="pre">C</span> <span class="pre">=</span> <span class="pre">A</span> <span class="pre">*</span> <span class="pre">B</span></tt>, general <tt class="docutils literal"><span class="pre">A,</span> <span class="pre">B</span></tt>
* <tt class="docutils literal"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">A</span> <span class="pre">*</span> <span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">A</span> <span class="pre">=</span> <span class="pre">A^T</span></tt>
* <tt class="docutils literal"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">A</span> <span class="pre">*</span> <span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">A</span></tt> lower triangular
* computing <cite>A^T`</cite></p>
<dl class="docutils">
<dt><strong>Returns</strong>:</dt>
<dd>number of test failures: 0 if all is working well.</dd>
</dl>
 </p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gpp_core.html" class="btn btn-neutral float-right" title="gpp_core"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gpp_heuristic_expected_improvement_optimization_test.html" class="btn btn-neutral" title="gpp_heuristic_expected_improvement_optimization_test"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Yelp and Cornell Collaboration.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>