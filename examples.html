

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Examples &mdash; MOE 0.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
  
    <link rel="top" title="MOE 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="Contributing" href="contributing.html"/>
        <link rel="prev" title="Objective Functions" href="objective_functions.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> MOE</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="why_moe.html">Why Do We Need MOE?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="why_moe.html#what-is-moe">What is MOE?</a></li>
<li class="toctree-l2"><a class="reference internal" href="why_moe.html#why-is-this-hard">Why is this hard?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-in-docker">Install in docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-from-source">Install from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#osx-tips-10-8-for-10-9-see-separate-instructions-below">OSX Tips (&lt;=10.8. For 10.9, see separate instructions below)</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#building-boost">Building Boost</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#linux-tips">Linux Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="objective_functions.html">Objective Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#what-is-an-objective-function">What is an objective function?</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#properties-of-an-objective-function">Properties of an objective function</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#id1"><span class="math">\(\Phi\)</span> Objective Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="objective_functions.html#example-of-objective-functions">Example of Objective Functions</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#minimizing-an-arbitrary-function">Minimizing an arbitrary function</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gaussian-process-regression-given-historical-data">Gaussian Process regression given historical data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hyperparameter-optimization-of-a-gaussian-process">Hyperparameter optimization of a Gaussian Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="#all-above-examples-combined">All above examples combined</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-thresholds-for-advertising-units">Setting thresholds for advertising units</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#making-a-pull-request">Making a pull request</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#style">Style</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="moe.html">moe package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="moe.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe.resources">moe.resources module</a></li>
<li class="toctree-l2"><a class="reference internal" href="moe.html#module-moe">Module contents</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cpp_tree.html">C++ Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization_test.html">gpp_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain_test.html">gpp_domain_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_exception.html">gpp_exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry.html">gpp_geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization.html">gpp_heuristic_expected_improvement_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra-inl.html">gpp_linear_algebra-inl</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils.html">gpp_test_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_logging.html">gpp_logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance.html">gpp_covariance</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_test.html">gpp_python_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_domain.html">gpp_domain</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_common.html">gpp_python_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyperparameter_optimization_demo.html">gpp_hyperparameter_optimization_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_test_utils_test.html">gpp_test_utils_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math_test.html">gpp_math_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_expected_improvement.html">gpp_python_expected_improvement</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_model_selection.html">gpp_python_model_selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_math.html">gpp_math</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random_test.html">gpp_random_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_expected_improvement_demo.html">gpp_expected_improvement_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_random.html">gpp_random</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_geometry_test.html">gpp_geometry_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra.html">gpp_linear_algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_heuristic_expected_improvement_optimization_test.html">gpp_heuristic_expected_improvement_optimization_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_linear_algebra_test.html">gpp_linear_algebra_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_core.html">gpp_core</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization.html">gpp_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_covariance_test.html">gpp_covariance_test</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python_gaussian_process.html">gpp_python_gaussian_process</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_mock_optimization_objective_functions.html">gpp_mock_optimization_objective_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_python.html">gpp_python</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection_and_hyperparameter_optimization.html">gpp_model_selection_and_hyperparameter_optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_hyper_and_EI_demo.html">gpp_hyper_and_EI_demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_optimization_parameters.html">gpp_optimization_parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_common.html">gpp_common</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpp_model_selection_and_hyperparameter_optimization_test.html">gpp_model_selection_and_hyperparameter_optimization_test</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">MOE</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Examples</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/examples.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<p>Below are some examples for use cases in which MOE can provide value</p>
<p><strong>Contents:</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference internal" href="#minimizing-an-arbitrary-function">Minimizing an arbitrary function</a></li>
<li><a class="reference internal" href="#gaussian-process-regression-given-historical-data">Gaussian Process regression given historical data</a></li>
<li><a class="reference internal" href="#hyperparameter-optimization-of-a-gaussian-process">Hyperparameter optimization of a Gaussian Process</a></li>
<li><a class="reference internal" href="#all-above-examples-combined">All above examples combined</a></li>
<li><a class="reference internal" href="#setting-thresholds-for-advertising-units">Setting thresholds for advertising units</a></li>
</ol>
</div></blockquote>
<div class="section" id="minimizing-an-arbitrary-function">
<h2>Minimizing an arbitrary function<a class="headerlink" href="#minimizing-an-arbitrary-function" title="Permalink to this headline">¶</a></h2>
<p>This example can be found in <tt class="docutils literal"><span class="pre">&lt;MOE_DIR&gt;/examples/next_point_via_simple_endpoint.py</span></tt></p>
<p>In this example we use <a class="reference internal" href="moe.easy_interface.html#module-moe.easy_interface.simple_endpoint" title="moe.easy_interface.simple_endpoint"><tt class="xref py py-mod docutils literal"><span class="pre">moe.easy_interface.simple_endpoint</span></tt></a> to use the endpoint <a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_ei" title="moe.views.rest.gp_ei"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_ei</span></tt></a>.</p>
<p>First we define an arbitrary function to minimize,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">function_to_minimize</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calculate an aribitrary 2-d function with some noise.</span>

<span class="sd">    This function has a minimum near [1, 2.6].</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
</pre></div>
</div>
<p>Then we set up an instance of <a class="reference internal" href="moe.easy_interface.html#moe.easy_interface.experiment.Experiment" title="moe.easy_interface.experiment.Experiment"><tt class="xref py py-class docutils literal"><span class="pre">moe.easy_interface.experiment.Experiment</span></tt></a> and feed it some historical data,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">exp</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>  <span class="c"># 2D experiment, we build a tensor product domain</span>
<span class="c"># Bootstrap with some known or already sampled point(s)</span>
<span class="n">exp</span><span class="o">.</span><span class="n">historical_data</span><span class="o">.</span><span class="n">append_sample_points</span><span class="p">([</span>
    <span class="n">SamplePoint</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">function_to_minimize</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="mf">0.05</span><span class="p">),</span>  <span class="c"># Iterables of the form [point, f_val, f_var] are also allowed</span>
    <span class="p">])</span>
</pre></div>
</div>
<p>With this given historical data we can now start to query MOE for the next best points to sample, maximizing the expected improvement over the domain of our experiment.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Use MOE to determine what is the point with highest Expected Improvement to use next</span>
<span class="n">next_point_to_sample</span> <span class="o">=</span> <span class="n">gp_next_points</span><span class="p">(</span><span class="n">exp</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>  <span class="c"># By default we only ask for one point</span>
</pre></div>
</div>
<p>We can now sample this point that MOE suggests and add it to our historical data,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Sample the point from our objective function, we can replace this with any function</span>
<span class="n">value_of_next_point</span> <span class="o">=</span> <span class="n">function_to_minimize</span><span class="p">(</span><span class="n">next_point_to_sample</span><span class="p">)</span>
<span class="c"># Add the information about the point to the experiment historical data to inform the GP</span>
<span class="n">exp</span><span class="o">.</span><span class="n">historical_data</span><span class="o">.</span><span class="n">append_sample_points</span><span class="p">([</span><span class="n">SamplePoint</span><span class="p">(</span><span class="n">next_point_to_sample</span><span class="p">,</span> <span class="n">value_of_next_point</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)])</span>  <span class="c"># We can add some noise</span>
</pre></div>
</div>
<p>By looping over this process many times we converge to the best set of parameters that minimize the above function.</p>
<p>For examples of more options we can pass this endpoint see the documentation here: <a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_next_points_epi" title="moe.views.rest.gp_next_points_epi"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_next_points_epi</span></tt></a>.</p>
<p>We can also use other GP optimization methods:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_next_points_epi" title="moe.views.rest.gp_next_points_epi"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_next_points_epi</span></tt></a></li>
<li><a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_next_points_kriging" title="moe.views.rest.gp_next_points_kriging"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_next_points_kriging</span></tt></a></li>
<li><a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_next_points_constant_liar" title="moe.views.rest.gp_next_points_constant_liar"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_next_points_constant_liar</span></tt></a></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="gaussian-process-regression-given-historical-data">
<h2>Gaussian Process regression given historical data<a class="headerlink" href="#gaussian-process-regression-given-historical-data" title="Permalink to this headline">¶</a></h2>
<p>This example can be found in <tt class="docutils literal"><span class="pre">&lt;MOE_DIR&gt;/examples/mean_and_var_of_gp_from_historic_data.py</span></tt></p>
<p>In this example we use <a class="reference internal" href="moe.easy_interface.html#module-moe.easy_interface.simple_endpoint" title="moe.easy_interface.simple_endpoint"><tt class="xref py py-mod docutils literal"><span class="pre">moe.easy_interface.simple_endpoint</span></tt></a> to use the endpoint <a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_mean_var" title="moe.views.rest.gp_mean_var"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_mean_var</span></tt></a>. We will be calculating the posterior mean and variance of a Gaussian Process (GP) given some historical data.</p>
<p>First we sample some random points. This will be our historical data. You could replace these with the outputs the system you want to perform Gaussian Process Regression on (<a class="reference external" href="http://www.gaussianprocess.org/gpml/chapters/RW2.pdf">RW Chapter 2</a>).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Randomly generate some historical data</span>
<span class="c"># points_sampled is an iterable of iterables of the form [point_as_a_list, objective_function_value, value_variance]</span>
<span class="n">points_sampled</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[[</span><span class="n">x</span><span class="p">],</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mf">0.01</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
        <span class="p">]</span>
</pre></div>
</div>
<p>Next we set the points we wish to evaluate the mean and variance at and hit the endpoint (<a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_mean_var" title="moe.views.rest.gp_mean_var"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_mean_var</span></tt></a>),</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">points_to_evaluate</span> <span class="o">=</span> <span class="p">[[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)]</span>  <span class="c"># uniform grid of points</span>
<span class="n">mean</span><span class="p">,</span> <span class="n">var</span> <span class="o">=</span> <span class="n">gp_mean_var</span><span class="p">(</span>
        <span class="n">points_sampled</span><span class="p">,</span>  <span class="c"># Historical data to inform Gaussian Process</span>
        <span class="n">points_to_evaluate</span><span class="p">,</span>  <span class="c"># We will calculate the mean and variance of the GP at these points</span>
        <span class="p">)</span>
</pre></div>
</div>
<p>The mean vector and covariance matrix is now available for printing, plotting or analysis in the variables <tt class="docutils literal"><span class="pre">mean</span></tt> and <tt class="docutils literal"><span class="pre">var</span></tt>.</p>
<p>For examples of more options we can pass this endpoint see the documentation here: <a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_mean_var" title="moe.views.rest.gp_mean_var"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_mean_var</span></tt></a>.</p>
</div>
<div class="section" id="hyperparameter-optimization-of-a-gaussian-process">
<h2>Hyperparameter optimization of a Gaussian Process<a class="headerlink" href="#hyperparameter-optimization-of-a-gaussian-process" title="Permalink to this headline">¶</a></h2>
<p>This example can be found in <tt class="docutils literal"><span class="pre">&lt;MOE_DIR&gt;/examples/hyper_opt_of_gp_from_historical_data.py</span></tt></p>
<p>In this example we use <a class="reference internal" href="moe.easy_interface.html#module-moe.easy_interface.simple_endpoint" title="moe.easy_interface.simple_endpoint"><tt class="xref py py-mod docutils literal"><span class="pre">moe.easy_interface.simple_endpoint</span></tt></a> to use the endpoint <a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_hyper_opt" title="moe.views.rest.gp_hyper_opt"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_hyper_opt</span></tt></a>. It calculates the optimal hyperparameters for a Gaussian Process given historical data.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">points_sampled</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">SamplePoint</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mf">0.01</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
        <span class="p">]</span>
<span class="n">covariance_info</span> <span class="o">=</span> <span class="n">gp_hyper_opt</span><span class="p">(</span>
        <span class="n">points_sampled</span><span class="p">,</span>
        <span class="p">)</span>
<span class="k">print</span> <span class="n">covariance_info</span>
</pre></div>
</div>
<p>For examples of more options we can pass this endpoint see the documentation here: <a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_hyper_opt" title="moe.views.rest.gp_hyper_opt"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_hyper_opt</span></tt></a>.</p>
</div>
<div class="section" id="all-above-examples-combined">
<h2>All above examples combined<a class="headerlink" href="#all-above-examples-combined" title="Permalink to this headline">¶</a></h2>
<p>This example can be found in <tt class="docutils literal"><span class="pre">&lt;MOE_DIR&gt;/examples/combined_example.py</span></tt></p>
<p>In this example we use <a class="reference internal" href="moe.easy_interface.html#module-moe.easy_interface.simple_endpoint" title="moe.easy_interface.simple_endpoint"><tt class="xref py py-mod docutils literal"><span class="pre">moe.easy_interface.simple_endpoint</span></tt></a> to use the endpoints <a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_next_points_epi" title="moe.views.rest.gp_next_points_epi"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_next_points_epi</span></tt></a>, <a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_mean_var" title="moe.views.rest.gp_mean_var"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_mean_var</span></tt></a>, <a class="reference internal" href="moe.views.rest.html#module-moe.views.rest.gp_hyper_opt" title="moe.views.rest.gp_hyper_opt"><tt class="xref py py-mod docutils literal"><span class="pre">moe.views.rest.gp_hyper_opt</span></tt></a>.</p>
<p>See the code for the full example, and the individual endpoints for examples on more options for each.</p>
</div>
<div class="section" id="setting-thresholds-for-advertising-units">
<h2>Setting thresholds for advertising units<a class="headerlink" href="#setting-thresholds-for-advertising-units" title="Permalink to this headline">¶</a></h2>
<p>This example was refrenced in</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://www.youtube.com/watch?v=qAN6iyYPbEE">15 min MOE intro video</a></li>
<li><a class="reference external" href="http://www.slideshare.net/YelpEngineering/yelp-engineering-open-house-112013-optimally-learning-for-fun-and-profit">MOE intro slides</a></li>
</ul>
</div></blockquote>
<p>When showing advertisements on Yelp we have a fixed size ad unit. There is a tradeoff between showing more reviewer information and other types of information to the user. In general Yelp currently shows 3 lines of dynamic content (distance info, category info, review info, etc)</p>
<p>For example, if I am looking for a pizza place at midnight on my phone I mostly care that they serve pizza and are close to me, having 1 line of distance information and only 2 lines of reviewer text is fine. If I am looking for a plumber on my desktop I may care more about what other users have to say, and may care less about where the plumber is located (especially if they are going to be coming to me), so 3 lines of review text is best.</p>
<a class="reference internal image-reference" href="_images/ad_unit_examples.png"><img alt="ad unit examples" class="align-center" src="_images/ad_unit_examples.png" /></a>
<p>MOE can help us find the best thresholds for each category (or category, device, time, etc tuple) for when to show distance info and 2 lines of review text, or just 3 lines of review text. We could use Click Through Rate (CTR) or revenue or any objective function to optimize. For examples of objective functions and their properties see <a class="reference internal" href="objective_functions.html"><em>Objective Functions</em></a>.</p>
<p>This allows us to make the following &#8220;MOE loop&#8221;,</p>
<a class="reference internal image-reference" href="_images/moe_loop_biz_dist.png"><img alt="ad unit examples" class="align-center" src="_images/moe_loop_biz_dist.png" /></a>
<p>Using the historical data we can iteratively find the best set of parameters to test via several sequential rounds of A/B tests. This allows us to readily explore the space in an optimal way across many possible tuples.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="objective_functions.html" class="btn btn-neutral" title="Objective Functions"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Yelp and Cornell Collaboration.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>